/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={757:(e,t,n)=>{e.exports=n(666)},448:(e,t,n)=>{"use strict";var r=n(294),i=n(840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function j(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 1:return z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case T:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,_e=null;function Te(e){if(e=gi(e)){if("function"!=typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=vi(t),ke(e.stateNode,e.type,t))}}function Ie(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ce(){if(Se){var e=Se,t=_e;if(_e=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ne(e,t){return e(t)}function Ae(){}var xe=!1;function Re(e,t,n){if(xe)return e(t,n);xe=!0;try{return Ne(e,t,n)}finally{xe=!1,(null!==Se||null!==_e)&&(Ae(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=vi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Pe=!1}function Oe(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Me=!1,Fe=null,Ue=!1,Ve=null,ze={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,s,a,o,l){Me=!1,Fe=null,Oe.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null,at=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2,ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!=(s&=a)&&(r=ht(s))}else 0!=(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var bt,Et,kt,St,_t,Tt=!1,It=[],Ct=null,Nt=null,At=null,xt=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=gi(t))&&Et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=mi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void _t(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),xt.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function jt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),xt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Bt=b.ReactCurrentBatchConfig;function $t(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=1,qt(e,t,n,r)}finally{vt=i,Bt.transition=s}}function Ht(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=4,qt(e,t,n,r)}finally{vt=i,Bt.transition=s}}function qt(e,t,n,r){var i=Wt(e,t,n,r);if(null===i)Br(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ot(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Ot(Nt,e,t,n,r,i),!0;case"mouseover":return At=Ot(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return xt.set(s,Ot(xt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Ot(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=gi(i);if(null!==s&&bt(s),null===(s=Wt(e,t,n,r))&&Br(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Kt=null;function Wt(e,t,n,r){if(Kt=null,null!==(e=mi(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Yt=null;function Jt(){if(Yt)return Yt;var e,t,n=Xt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,sn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(on),un=F({},on,{view:0,detail:0}),cn=nn(un),hn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(rn=e.screenX-an.screenX,sn=e.screenY-an.screenY):sn=rn=0,an=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),dn=nn(hn),fn=nn(F({},hn,{dataTransfer:0})),pn=nn(F({},un,{relatedTarget:0})),mn=nn(F({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(gn),vn=nn(F({},on,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return kn}var _n=F({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=nn(_n),In=nn(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=nn(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=nn(F({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=nn(An),Rn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Pn,On=c&&(!Dn||Pn&&8<Pn&&11>=Pn),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function $n(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,qn=null;function Kn(e){Mr(e,0)}function Wn(e){if(W(yi(e)))return e}function Gn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Xn;if(c){var Yn="oninput"in document;if(!Yn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Yn="function"==typeof Jn.oninput}Xn=Yn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",er),qn=Hn=null)}function er(e){if("value"===e.propertyName&&Wn(qn)){var t=[];$n(t,qn,e,Ee(e)),Re(Kn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),qn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(qn)}function rr(e,t){if("click"===e)return Wn(t)}function ir(e,t){if("input"===e||"change"===e)return Wn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ar(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=lr(n,s);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,yr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==G(r)||(r="selectionStart"in(r=pr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ar(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},kr={};function Sr(e){if(Er[e])return Er[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var _r=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Cr=Sr("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Nr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];xr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}xr(_r,"onAnimationEnd"),xr(Tr,"onAnimationIteration"),xr(Ir,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(je.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Or(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Or(i,o,u),s=l}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Fr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Gt(t)){case 1:var i=$t;break;case 4:i=Ht;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=mi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=Ee(n),a=[];e:{var o=Nr.get(e);if(void 0!==o){var l=ln,u=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=pn;break;case"focusout":u="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case _r:case Tr:case Ir:l=mn;break;case Cr:l=Nn;break;case"scroll":l=cn;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=De(p,d))&&c.push($r(p,m,f))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!mi(u)&&!u[hi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?mi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=dn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:yi(l),f=null==u?o:yi(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,mi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=qr(f))p++;for(f=0,m=d;m;m=qr(m))f++;for(;0<p-f;)c=qr(c),p--;for(;0<f-p;)d=qr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=qr(c),d=qr(d)}c=null}else c=null;null!==l&&Kr(a,o,l,c,!1),null!==u&&null!==h&&Kr(a,h,u,c,!0)}if("select"===(l=(o=r?yi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Gn;else if(Bn(o))if(Qn)g=ir;else{g=nr;var y=tr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=rr);switch(g&&(g=g(e,r))?$n(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(On&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=Jt()):(Xt="value"in(Qt=i)?Qt.value:Qt.textContent,zn=!0)),0<(y=Hr(r,w)).length&&(w=new vn(w,e,null,n,i),a.push({event:w,listeners:y}),(v||null!==(v=Vn(n)))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=Jt(),Yt=Xt=Qt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Mr(a,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift($r(e,s,i)),null!=(s=De(e,t))&&r.push($r(e,s,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=De(n,s))&&a.unshift($r(n,l,o)):i||null!=(l=De(n,s))&&a.push($r(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Qr(e){return("string"==typeof e?e:""+e).replace(Wr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function Yr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"==typeof setTimeout?setTimeout:void 0,ti="function"==typeof clearTimeout?clearTimeout:void 0,ni="function"==typeof Promise?Promise:void 0,ri="function"==typeof queueMicrotask?queueMicrotask:void 0!==ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ui="__reactFiber$"+li,ci="__reactProps$"+li,hi="__reactContainer$"+li,di="__reactEvents$"+li,fi="__reactListeners$"+li,pi="__reactHandles$"+li;function mi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[ui])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ui]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function vi(e){return e[ci]||null}var wi=[],bi=-1;function Ei(e){return{current:e}}function ki(e){0>bi||(e.current=wi[bi],wi[bi]=null,bi--)}function Si(e,t){bi++,wi[bi]=e.current,e.current=t}var _i={},Ti=Ei(_i),Ii=Ei(!1),Ci=_i;function Ni(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!=e.childContextTypes}function xi(){ki(Ii),ki(Ti)}function Ri(e,t,n){if(Ti.current!==_i)throw Error(s(168));Si(Ti,t),Si(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return F({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ci=Ti.current,Si(Ti,e),Si(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Ti),Si(Ti,e)):ki(Ii),Si(Ii,n)}var Oi=null,Mi=!1,Fi=!1;function Ui(e){null===Oi?Oi=[e]:Oi.push(e)}function Vi(){if(!Fi&&null!==Oi){Fi=!0;var e=0,t=vt;try{var n=Oi;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Mi=!1}catch(t){throw null!==Oi&&(Oi=Oi.slice(e+1)),We(Ze,Vi),t}finally{vt=t,Fi=!1}}return null}var zi=b.ReactCurrentBatchConfig;function ji(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=Ei(null),$i=null,Hi=null,qi=null;function Ki(){qi=Hi=$i=null}function Wi(e){var t=Bi.current;ki(Bi),e._currentValue=t}function Gi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){$i=e,qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===$i)throw Error(s(308));Hi=e,$i.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Yi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function es(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==yl&&0!=(1&e.mode)&&0==(2&gl)?(null===(e=n.interleaved)?(t.next=t,null===Yi?Yi=[n]:Yi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function is(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ss(e,t,n,r){var i=e.updateQueue;Ji=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=F({},h,d);break e;case 2:Ji=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);_l|=a,e.lanes=a,e.memoizedState=h}}function as(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var os=(new r.Component).refs;function ls(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var us={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jl(),i=Bl(e),s=ts(r,i);s.payload=t,null!=n&&(s.callback=n),ns(e,s),null!==(t=$l(e,i,r))&&rs(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jl(),i=Bl(e),s=ts(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),ns(e,s),null!==(t=$l(e,i,r))&&rs(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jl(),r=Bl(e),i=ts(n,r);i.tag=2,null!=t&&(i.callback=t),ns(e,i),null!==(t=$l(e,r,n))&&rs(t,e,r)}};function cs(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!(t.prototype&&t.prototype.isPureReactComponent&&ar(n,r)&&ar(i,s))}function hs(e,t,n){var r=!1,i=_i,s=t.contextType;return"object"==typeof s&&null!==s?s=Xi(s):(i=Ai(t)?Ci:Ti.current,s=(r=null!=(r=t.contextTypes))?Ni(e,i):_i),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=us,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ds(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&us.enqueueReplaceState(t,t.state,null)}function fs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=os,Zi(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=Xi(s):(s=Ai(t)?Ci:Ti.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ls(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&us.enqueueReplaceState(i,i.state,null),ss(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var ps=[],ms=0,gs=null,ys=0,vs=[],ws=0,bs=null,Es=1,ks="";function Ss(e,t){ps[ms++]=ys,ps[ms++]=gs,gs=e,ys=t}function _s(e,t,n){vs[ws++]=Es,vs[ws++]=ks,vs[ws++]=bs,bs=e;var r=Es;e=ks;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Es=1<<32-at(t)+i|n<<i|r,ks=s+e}else Es=1<<s|n<<i|r,ks=e}function Ts(e){null!==e.return&&(Ss(e,1),_s(e,1,0))}function Is(e){for(;e===gs;)gs=ps[--ms],ps[ms]=null,ys=ps[--ms],ps[ms]=null;for(;e===bs;)bs=vs[--ws],vs[ws]=null,ks=vs[--ws],vs[ws]=null,Es=vs[--ws],vs[ws]=null}var Cs=null,Ns=null,As=!1,xs=null;function Rs(e,t){var n=wu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ds(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Cs=e,Ns=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Cs=e,Ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==bs?{id:Es,overflow:ks}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=wu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Cs=e,Ns=null,!0);default:return!1}}function Ps(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Ls(e){if(As){var t=Ns;if(t){var n=t;if(!Ds(e,t)){if(Ps(e))throw Error(s(418));t=ai(n.nextSibling);var r=Cs;t&&Ds(e,t)?Rs(r,n):(e.flags=-4097&e.flags|2,As=!1,Cs=e)}}else{if(Ps(e))throw Error(s(418));e.flags=-4097&e.flags|2,As=!1,Cs=e}}}function Os(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Cs=e}function Ms(e){if(e!==Cs)return!1;if(!As)return Os(e),As=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ns)){if(Ps(e)){for(e=Ns;e;)e=ai(e.nextSibling);throw Error(s(418))}for(;t;)Rs(e,t),t=ai(t.nextSibling)}if(Os(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ns=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ns=null}}else Ns=Cs?ai(e.stateNode.nextSibling):null;return!0}function Fs(){Ns=Cs=null,As=!1}function Us(e){null===xs?xs=[e]:xs.push(e)}function Vs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===os&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function js(e){return(0,e._init)(e._payload)}function Bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Eu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Tu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===D&&js(s)===t.type)?((r=i(t,n.props)).ref=Vs(e,t,n),r.return=e,r):((r=ku(n.type,n.key,n.props,null,e.mode,r)).ref=Vs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Iu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Su(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Tu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=ku(t.type,t.key,t.props,null,e.mode,n)).ref=Vs(e,null,t),n.return=e,n;case k:return(t=Iu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Su(t,e.mode,n,null)).return=e,t;zs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);zs(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);zs(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),As&&Ss(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return As&&Ss(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),As&&Ss(i,m),u}function g(i,o,l,u){var c=O(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),As&&Ss(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return As&&Ss(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),As&&Ss(i,g),c}return function e(r,s,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===D&&js(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=Vs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((s=Su(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=ku(a.type,a.key,a.props,null,r.mode,l)).ref=Vs(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Iu(a,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);zs(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Tu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var $s=Bs(!0),Hs=Bs(!1),qs={},Ks=Ei(qs),Ws=Ei(qs),Gs=Ei(qs);function Qs(e){if(e===qs)throw Error(s(174));return e}function Xs(e,t){switch(Si(Gs,t),Si(Ws,e),Si(Ks,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ks),Si(Ks,t)}function Ys(){ki(Ks),ki(Ws),ki(Gs)}function Js(e){Qs(Gs.current);var t=Qs(Ks.current),n=le(t,e.type);t!==n&&(Si(Ws,e),Si(Ks,n))}function Zs(e){Ws.current===e&&(ki(Ks),ki(Ws))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=b.ReactCurrentDispatcher,sa=b.ReactCurrentBatchConfig,aa=0,oa=null,la=null,ua=null,ca=!1,ha=!1,da=0,fa=0;function pa(){throw Error(s(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(s(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=eo,e=n(r,i)}while(ha)}if(ia.current=Ya,t=null!==la&&null!==la.next,aa=0,ua=la=oa=null,ca=!1,t)throw Error(s(300));return e}function ya(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?oa.memoizedState=ua=e:ua=ua.next=e,ua}function wa(){if(null===la){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?oa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(s(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?oa.memoizedState=ua=e:ua=ua.next=e}return ua}function ba(e,t){return"function"==typeof t?t(e):t}function Ea(e){var t=wa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var h=c.lane;if((aa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,oa.lanes|=h,_l|=h}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,sr(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,oa.lanes|=a,_l|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=wa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);sr(a,t.memoizedState)||(yo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function _a(e,t){var n=oa,r=wa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,yo=!0),r=r.queue,Oa(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,xa(9,Ia.bind(null,n,r,i,t),void 0,null),null===yl)throw Error(s(349));0!=(30&aa)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&$l(e,1,-1)}function Ca(e,t,n){return n((function(){Na(t)&&$l(e,1,-1)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Aa(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,oa,e),[t.memoizedState,e]}function xa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return wa().memoizedState}function Da(e,t,n,r){var i=va();oa.flags|=e,i.memoizedState=xa(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=wa();r=void 0===r?null:r;var s=void 0;if(null!==la){var a=la.memoizedState;if(s=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=xa(t,n,s,r))}oa.flags|=e,i.memoizedState=xa(1|t,n,s,r)}function La(e,t){return Da(8390656,8,e,t)}function Oa(e,t){return Pa(2048,8,e,t)}function Ma(e,t){return Pa(4,2,e,t)}function Fa(e,t){return Pa(4,4,e,t)}function Ua(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!=n?n.concat([e]):null,Pa(4,4,Ua.bind(null,t,e),n)}function za(){}function ja(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{vt=n,sa.transition=r}}function Ha(){return wa().memoizedState}function qa(e,t,n){var r=Bl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wa(e)?Ga(t,n):(Qa(e,t,n),null!==(e=$l(e,r,n=jl()))&&Xa(e,t,r))}function Ka(e,t,n){var r=Bl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))Ga(t,i);else{Qa(e,t,i);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,sr(o,a))return}catch(e){}null!==(e=$l(e,r,n=jl()))&&Xa(e,t,r)}}function Wa(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function Ga(e,t){ha=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){null!==yl&&0!=(1&e.mode)&&0==(2&gl)?(null===(e=t.interleaved)?(n.next=n,null===Yi?Yi=[t]:Yi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ya={readContext:Xi,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Xi,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Xi,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Da(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Aa,useDebugValue:za,useDeferredValue:function(e){var t=Aa(e),n=t[0],r=t[1];return La((function(){var t=sa.transition;sa.transition={};try{r(e)}finally{sa.transition=t}}),[e]),n},useTransition:function(){var e=Aa(!1),t=e[0];return e=$a.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oa,i=va();if(As){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===yl)throw Error(s(349));0!=(30&aa)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ca.bind(null,r,a,e),[e]),r.flags|=2048,xa(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=yl.identifierPrefix;if(As){var n=ks;t=":"+t+"R"+(n=(Es&~(1<<32-at(Es)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Xi,useCallback:ja,useContext:Xi,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Ba,useReducer:Ea,useRef:Ra,useState:function(){return Ea(ba)},useDebugValue:za,useDeferredValue:function(e){var t=Ea(ba),n=t[0],r=t[1];return Oa((function(){var t=sa.transition;sa.transition={};try{r(e)}finally{sa.transition=t}}),[e]),n},useTransition:function(){return[Ea(ba)[0],wa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Ha,unstable_isNewReconciler:!1},eo={readContext:Xi,useCallback:ja,useContext:Xi,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Ba,useReducer:ka,useRef:Ra,useState:function(){return ka(ba)},useDebugValue:za,useDeferredValue:function(e){var t=ka(ba),n=t[0],r=t[1];return Oa((function(){var t=sa.transition;sa.transition={};try{r(e)}finally{sa.transition=t}}),[e]),n},useTransition:function(){return[ka(ba)[0],wa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Ha,unstable_isNewReconciler:!1};function to(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function no(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ro,io,so,ao="function"==typeof WeakMap?WeakMap:Map;function oo(e,t,n){(n=ts(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,Dl=r),no(0,t)},n}function lo(e,t,n){(n=ts(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){no(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){no(0,t),"function"!=typeof r&&(null===Pl?Pl=new Set([this]):Pl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function uo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ao;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function co(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ho(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ts(-1,1)).tag=2,ns(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function fo(e,t){if(!As)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function po(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mo(e,t,n){var r=t.pendingProps;switch(Is(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return po(t),null;case 1:case 17:return Ai(t.type)&&xi(),po(t),null;case 3:return r=t.stateNode,Ys(),ki(Ii),ki(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==xs&&(Gl(xs),xs=null))),po(t),null;case 5:Zs(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)io(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return po(t),null}if(e=Qs(Ks.current),Ms(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ui]=t,r[ci]=a,e=0!=(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(Xr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(Xr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ui]=t,e[ci]=r,ro(e,t),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"==typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fr("scroll",e):null!=c&&w(e,a,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return po(t),null;case 6:if(e&&null!=t.stateNode)so(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ks.current),Ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(a=r.nodeValue!==n)&&null!==(e=Cs))switch(l=0!=(1&e.mode),e.tag){case 3:Xr(r.nodeValue,n,l);break;case 5:!0!==e.memoizedProps[void 0]&&Xr(r.nodeValue,n,l)}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ui]=t,t.stateNode=r}return po(t),null;case 13:if(ki(ea),r=t.memoizedState,As&&null!==Ns&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Ns;r;)r=ai(r.nextSibling);return Fs(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ms(t),null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[ui]=t}else Fs(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return po(t),null}return null!==xs&&(Gl(xs),xs=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ms(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ea.current)?0===kl&&(kl=3):ru())),null!==t.updateQueue&&(t.flags|=4),po(t),null);case 4:return Ys(),null===e&&zr(t.stateNode.containerInfo),po(t),null;case 10:return Wi(t.type._context),po(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return po(t),null;if(r=0!=(128&t.flags),null===(l=a.rendering))if(r)fo(a,!1);else{if(0!==kl||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,fo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>xl&&(t.flags|=128,r=!0,fo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),fo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!As)return po(t),null}else 2*Ye()-a.renderingStartTime>xl&&1073741824!==n&&(t.flags|=128,r=!0,fo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ea.current,Si(ea,r?1&n|2:1&n),t):(po(t),null);case 22:case 23:return Zl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&bl)&&(po(t),6&t.subtreeFlags&&(t.flags|=8192)):po(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ks.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Yr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},so=function(e,t,n,r){n!==r&&(t.flags|=4)};var go=b.ReactCurrentOwner,yo=!1;function vo(e,t,n,r){t.child=null===e?Hs(t,null,n,r):$s(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return Qi(t,i),r=ga(e,t,n,r,s,i),n=ya(),null===e||yo?(As&&n&&Ts(t),t.flags|=1,vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function bo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||bu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ku(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(a,r)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Eu(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e&&ar(e.memoizedProps,r)&&e.ref===t.ref){if(yo=!1,0==(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!=(131072&e.flags)&&(yo=!0)}return _o(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Si(El,bl),bl|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Si(El,bl),bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==s?s.baseLanes:n,Si(El,bl),bl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(El,bl),bl|=r;return vo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,i){var s=Ai(n)?Ci:Ti.current;return s=Ni(t,s),Qi(t,i),n=ga(e,t,n,r,s,i),r=ya(),null===e||yo?(As&&r&&Ts(t),t.flags|=1,vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function To(e,t,n,r,i){if(Ai(n)){var s=!0;Pi(t)}else s=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),hs(t,n,r),fs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Xi(u):Ni(t,u=Ai(n)?Ci:Ti.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==u)&&ds(t,a,r,u),Ji=!1;var d=t.memoizedState;a.state=d,ss(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ii.current||Ji?("function"==typeof c&&(ls(t,n,c,r),l=t.memoizedState),(o=Ji||cs(t,n,o,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,es(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ji(t.type,o),a.props=u,h=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Xi(l):Ni(t,l=Ai(n)?Ci:Ti.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ds(t,a,r,l),Ji=!1,d=t.memoizedState,a.state=d,ss(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ii.current||Ji?("function"==typeof f&&(ls(t,n,f,r),p=t.memoizedState),(u=Ji||cs(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){So(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Vo(e,t,s);r=t.stateNode,go.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,o,s)):vo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Xs(e,t.containerInfo)}function No(e,t,n,r,i){return Fs(),Us(i),t.flags|=256,vo(e,t,n,r),t.child}var Ao={dehydrated:null,treeContext:null,retryLane:0};function xo(e){return{baseLanes:e,cachePool:null}}function Ro(e,t,n){var r,i=t.pendingProps,a=ea.current,o=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ea,1&a),null===e)return Ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=_u(a,i,0,null),e=Su(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xo(n),t.memoizedState=Ao,e):Do(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Oo(e,t,n,Error(s(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=_u({mode:"visible",children:i.children},a,0,null),(o=Su(o,a,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&$s(t,e.child,null,n),t.child.memoizedState=xo(n),t.memoizedState=Ao,o);if(0==(1&t.mode))t=Oo(e,t,n,null);else if("$!"===r.data)t=Oo(e,t,n,Error(s(419)));else if(i=0!=(n&e.childLanes),yo||i){if(null!==(i=yl)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!=(o&(i.suspendedLanes|n))?0:o)&&i!==a.retryLane&&(a.retryLane=i,$l(e,i,-1))}ru(),t=Oo(e,t,n,Error(s(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mu.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Ns=ai(r.nextSibling),Cs=t,As=!0,xs=null,null!==n&&(vs[ws++]=Es,vs[ws++]=ks,vs[ws++]=bs,Es=n.id,ks=n.overflow,bs=t),(t=Do(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=Lo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?xo(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ao,i):(n=Po(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=Lo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?xo(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ao,i):(n=Po(e,t,i.children,n),t.memoizedState=null,n)}function Do(e,t){return(t=_u({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,n,r){var i=e.child;return e=i.sibling,n=Eu(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Lo(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Eu(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Eu(a,r):(r=Su(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Oo(e,t,n,r){return null!==r&&Us(r),$s(t,e.child,null,n),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Gi(e.return,t,n)}function Fo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vo(e,t,r.children,n),0!=(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,n,t);else if(19===e.tag)Mo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ea,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fo(t,!0,n,null,s);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_l|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Eu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Eu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zo(e,t){switch(Is(t),t.tag){case 1:return Ai(t.type)&&xi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ki(Ii),ki(Ti),ra(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return Ys(),null;case 10:return Wi(t.type._context),null;case 22:case 23:return Zl(),null;default:return null}}var jo=!1,Bo=!1,$o="function"==typeof WeakSet?WeakSet:Set,Ho=null;function qo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){du(e,t,n)}else n.current=null}function Ko(e,t,n){try{n()}catch(n){du(e,t,n)}}var Wo=!1;function Go(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Ko(t,n,s)}i=i.next}while(i!==r)}}function Qo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xo(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Yo(e,t,n){if(st&&"function"==typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!=(2&i)||0!=(4&i))&&Ko(t,n,s),r=r.next}while(r!==e)}break;case 1:if(qo(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){du(t,n,e)}break;case 5:qo(t,n);break;case 4:il(e,t,n)}}function Jo(e){var t=e.alternate;null!==t&&(e.alternate=null,Jo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ui],delete t[ci],delete t[di],delete t[fi],delete t[pi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zo(e){return 5===e.tag||3===e.tag||4===e.tag}function el(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function tl(e){e:{for(var t=e.return;null!==t;){if(Zo(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),rl(e,n=el(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,nl(e,n=el(e),t);break;default:throw Error(s(161))}}function nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(nl(e,t,n),e=e.sibling;null!==e;)nl(e,t,n),e=e.sibling}function rl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rl(e,t,n),e=e.sibling;null!==e;)rl(e,t,n),e=e.sibling}function il(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var l=e,u=a,c=n,h=u;;)if(Yo(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,u=a.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(a.stateNode)}else if(18===a.tag)i?(l=r,u=a.stateNode,8===l.nodeType?si(l.parentNode,u):1===l.nodeType&&si(l,u),jt(l)):si(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(Yo(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function sl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Go(3,t,t.return),Qo(3,t),void Go(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===r.type&&null!=r.name&&Y(n,r),we(e,i),t=we(e,r),i=0;i<a.length;i+=2){var o=a[i],l=a[i+1];"style"===o?ge(n,l):"dangerouslySetInnerHTML"===o?he(n,l):"children"===o?de(n,l):w(n,o,l,t)}switch(e){case"input":J(n,r);break;case"textarea":se(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ne(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[ci]=r}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&jt(t.stateNode.containerInfo));case 13:case 19:return void function(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}(t)}throw Error(s(163))}function al(e,t,n){Ho=e,ol(e,t,n)}function ol(e,t,n){for(var r=0!=(1&e.mode);null!==Ho;){var i=Ho,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||jo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Bo;o=jo;var u=Bo;if(jo=a,(Bo=l)&&!u)for(Ho=i;null!==Ho;)l=(a=Ho).child,22===a.tag&&null!==a.memoizedState?cl(i):null!==l?(l.return=a,Ho=l):cl(i);for(;null!==s;)Ho=s,ol(s,t,n),s=s.sibling;Ho=i,jo=o,Bo=u}ll(e)}else 0!=(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ho=s):ll(e)}}function ll(e){for(;null!==Ho;){var t=Ho;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bo||Qo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ji(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&as(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}as(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(s(163))}Bo||512&t.flags&&Xo(t)}catch(e){du(t,t.return,e)}}if(t===e){Ho=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ho=n;break}Ho=t.return}}function ul(e){for(;null!==Ho;){var t=Ho;if(t===e){Ho=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ho=n;break}Ho=t.return}}function cl(e){for(;null!==Ho;){var t=Ho;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qo(4,t)}catch(e){du(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){du(t,i,e)}}var s=t.return;try{Xo(t)}catch(e){du(t,s,e)}break;case 5:var a=t.return;try{Xo(t)}catch(e){du(t,a,e)}}}catch(e){du(t,t.return,e)}if(t===e){Ho=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ho=o;break}Ho=t.return}}var hl,dl=Math.ceil,fl=b.ReactCurrentDispatcher,pl=b.ReactCurrentOwner,ml=b.ReactCurrentBatchConfig,gl=0,yl=null,vl=null,wl=0,bl=0,El=Ei(0),kl=0,Sl=null,_l=0,Tl=0,Il=0,Cl=null,Nl=null,Al=0,xl=1/0,Rl=!1,Dl=null,Pl=null,Ll=!1,Ol=null,Ml=0,Fl=0,Ul=null,Vl=-1,zl=0;function jl(){return 0!=(6&gl)?Ye():-1!==Vl?Vl:Vl=Ye()}function Bl(e){return 0==(1&e.mode)?1:0!=(2&gl)&&0!==wl?wl&-wl:null!==zi.transition?(0===zl&&(e=ut,0==(4194240&(ut<<=1))&&(ut=64),zl=e),zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function $l(e,t,n){if(50<Fl)throw Fl=0,Ul=null,Error(s(185));var r=Hl(e,t);return null===r?null:(gt(r,t,n),0!=(2&gl)&&r===yl||(r===yl&&(0==(2&gl)&&(Tl|=t),4===kl&&Ql(r,wl)),ql(r,n),1===t&&0===gl&&0==(1&e.mode)&&(xl=Ye()+500,Mi&&Vi())),r)}function Hl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ql(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!=(o&n)&&0==(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===yl?wl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Mi=!0,Ui(e)}(Xl.bind(null,e)):Ui(Xl.bind(null,e)),ri((function(){0===gl&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=yu(n,Kl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kl(e,t){if(Vl=-1,zl=0,0!=(6&gl))throw Error(s(327));var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=dt(e,e===yl?wl:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=iu(e,r);else{t=r;var i=gl;gl|=2;var a=nu();for(yl===e&&wl===t||(xl=Ye()+500,eu(e,t));;)try{au();break}catch(t){tu(e,t)}Ki(),fl.current=a,gl=i,null!==vl?t=0:(yl=null,wl=0,t=kl)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=Wl(e,i)),1===t)throw n=Sl,eu(e,0),Ql(e,r),ql(e,Ye()),n;if(6===t)Ql(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=iu(e,r))&&0!==(a=pt(e))&&(r=a,t=Wl(e,a)),1===t))throw n=Sl,eu(e,0),Ql(e,r),ql(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:uu(e,Nl);break;case 3:if(Ql(e,r),(130023424&r)===r&&10<(t=Al+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){jl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(uu.bind(null,e,Nl),t);break}uu(e,Nl);break;case 4:if(Ql(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dl(r/1960))-r)){e.timeoutHandle=ei(uu.bind(null,e,Nl),r);break}uu(e,Nl);break;default:throw Error(s(329))}}}return ql(e,Ye()),e.callbackNode===n?Kl.bind(null,e):null}function Wl(e,t){var n=Cl;return e.current.memoizedState.isDehydrated&&(eu(e,t).flags|=256),2!==(e=iu(e,t))&&(t=Nl,Nl=n,null!==t&&Gl(t)),e}function Gl(e){null===Nl?Nl=e:Nl.push.apply(Nl,e)}function Ql(e,t){for(t&=~Il,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Xl(e){if(0!=(6&gl))throw Error(s(327));cu();var t=dt(e,0);if(0==(1&t))return ql(e,Ye()),null;var n=iu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Wl(e,r))}if(1===n)throw n=Sl,eu(e,0),Ql(e,t),ql(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uu(e,Nl),ql(e,Ye()),null}function Yl(e,t){var n=gl;gl|=1;try{return e(t)}finally{0===(gl=n)&&(xl=Ye()+500,Mi&&Vi())}}function Jl(e){null!==Ol&&0===Ol.tag&&0==(6&gl)&&cu();var t=gl;gl|=1;var n=ml.transition,r=vt;try{if(ml.transition=null,vt=1,e)return e()}finally{vt=r,ml.transition=n,0==(6&(gl=t))&&Vi()}}function Zl(){bl=El.current,ki(El)}function eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==vl)for(n=vl.return;null!==n;){var r=n;switch(Is(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&xi();break;case 3:Ys(),ki(Ii),ki(Ti),ra();break;case 5:Zs(r);break;case 4:Ys();break;case 13:case 19:ki(ea);break;case 10:Wi(r.type._context);break;case 22:case 23:Zl()}n=n.return}if(yl=e,vl=e=Eu(e.current,null),wl=bl=t,kl=0,Sl=null,Il=Tl=_l=0,Nl=Cl=null,null!==Yi){for(t=0;t<Yi.length;t++)if(null!==(r=(n=Yi[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Yi=null}return e}function tu(e,t){for(;;){var n=vl;try{if(Ki(),ia.current=Ya,ca){for(var r=oa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=oa=null,ha=!1,da=0,pl.current=null,null===n||null===n.return){kl=1,Sl=t,vl=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=wl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=co(o);if(null!==p){p.flags&=-257,ho(p,o,l,0,t),1&p.mode&&uo(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){uo(a,c,t),ru();break e}u=Error(s(426))}else if(As&&1&l.mode){var y=co(o);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),ho(y,o,l,0,t),Us(u);break e}}a=u,4!==kl&&(kl=2),null===Cl?Cl=[a]:Cl.push(a),u=to(u,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,is(l,oo(0,u,t));break e;case 1:a=u;var v=l.type,w=l.stateNode;if(0==(128&l.flags)&&("function"==typeof v.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Pl||!Pl.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t,is(l,lo(l,a,t));break e}}l=l.return}while(null!==l)}lu(n)}catch(e){t=e,vl===n&&null!==n&&(vl=n=n.return);continue}break}}function nu(){var e=fl.current;return fl.current=Ya,null===e?Ya:e}function ru(){0!==kl&&3!==kl&&2!==kl||(kl=4),null===yl||0==(268435455&_l)&&0==(268435455&Tl)||Ql(yl,wl)}function iu(e,t){var n=gl;gl|=2;var r=nu();for(yl===e&&wl===t||eu(e,t);;)try{su();break}catch(t){tu(e,t)}if(Ki(),gl=n,fl.current=r,null!==vl)throw Error(s(261));return yl=null,wl=0,kl}function su(){for(;null!==vl;)ou(vl)}function au(){for(;null!==vl&&!Qe();)ou(vl)}function ou(e){var t=hl(e.alternate,e,bl);e.memoizedProps=e.pendingProps,null===t?lu(e):vl=t,pl.current=null}function lu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=mo(n,t,bl)))return void(vl=n)}else{if(null!==(n=zo(n,t)))return n.flags&=32767,void(vl=n);if(null===e)return kl=6,void(vl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(vl=t);vl=t=e}while(null!==t);0===kl&&(kl=5)}function uu(e,t){var n=vt,r=ml.transition;try{ml.transition=null,vt=1,function(e,t,n){do{cu()}while(null!==Ol);if(0!=(6&gl))throw Error(s(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===yl&&(vl=yl=null,wl=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Ll||(Ll=!0,yu(tt,(function(){return cu(),null}))),a=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||a){a=ml.transition,ml.transition=null;var o=vt;vt=1;var l=gl;gl|=4,pl.current=null,function(e,t){if(hr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Ho=t;null!==Ho;)if(e=(t=Ho).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Ho=e;else for(;null!==Ho;){t=Ho;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ji(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var E=b.body;null!=E&&(E.textContent="")}break;default:throw Error(s(163))}}catch(e){du(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ho=e;break}Ho=t.return}m=Wo,Wo=!1}(e,r),function(e,t){for(Ho=t;null!==Ho;){var n=(t=Ho).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{il(e,i,t);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){du(i,t,e)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,Ho=n;else for(;null!==Ho;){t=Ho;try{var a=t.flags;if(32&a&&de(t.stateNode,""),512&a){var o=t.alternate;if(null!==o){var l=o.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(Al=Ye())}break;case 22:var c=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;e:{i=c;for(var f=null,p=r=n=t;;){if(5===p.tag){if(null===f){f=p;var m=p.stateNode;if(i){var g=m.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var y=p.stateNode,v=p.memoizedProps.style,w=null!=v&&v.hasOwnProperty("display")?v.display:null;y.style.display=me("display",w)}}}else if(6===p.tag)null===f&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!d&&0!=(1&n.mode)){Ho=n;for(var b=n.child;null!==b;){for(n=Ho=b;null!==Ho;){var E=(r=Ho).child;switch(r.tag){case 0:case 11:case 14:case 15:Go(4,r,r.return);break;case 1:qo(r,r.return);var k=r.stateNode;if("function"==typeof k.componentWillUnmount){var S=r.return;try{k.props=r.memoizedProps,k.state=r.memoizedState,k.componentWillUnmount()}catch(e){du(r,S,e)}}break;case 5:qo(r,r.return);break;case 22:if(null!==r.memoizedState){ul(n);continue}}null!==E?(E.return=r,Ho=E):ul(n)}b=b.sibling}}}switch(4102&a){case 2:tl(t),t.flags&=-3;break;case 6:tl(t),t.flags&=-3,sl(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,sl(t.alternate,t);break;case 4:sl(t.alternate,t)}}catch(e){du(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,Ho=n;break}Ho=t.return}}}(e,r),dr(Jr),Jr=null,e.current=r,al(r,e,i),Xe(),gl=l,vt=o,ml.transition=a}else e.current=r;if(Ll&&(Ll=!1,Ol=e,Ml=i),0===(a=e.pendingLanes)&&(Pl=null),function(e){if(st&&"function"==typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode),ql(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Rl)throw Rl=!1,e=Dl,Dl=null,e;0!=(1&Ml)&&0!==e.tag&&cu(),0!=(1&(a=e.pendingLanes))?e===Ul?Fl++:(Fl=0,Ul=e):Fl=0,Vi()}(e,t,n)}finally{ml.transition=r,vt=n}return null}function cu(){if(null!==Ol){var e=wt(Ml),t=ml.transition,n=vt;try{if(ml.transition=null,vt=16>e?16:e,null===Ol)var r=!1;else{if(e=Ol,Ol=null,Ml=0,0!=(6&gl))throw Error(s(331));var i=gl;for(gl|=4,Ho=e.current;null!==Ho;){var a=Ho,o=a.child;if(0!=(16&Ho.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ho=c;null!==Ho;){var h=Ho;switch(h.tag){case 0:case 11:case 15:Go(8,h,a)}var d=h.child;if(null!==d)d.return=h,Ho=d;else for(;null!==Ho;){var f=(h=Ho).sibling,p=h.return;if(Jo(h),h===c){Ho=null;break}if(null!==f){f.return=p,Ho=f;break}Ho=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ho=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,Ho=o;else e:for(;null!==Ho;){if(0!=(2048&(a=Ho).flags))switch(a.tag){case 0:case 11:case 15:Go(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Ho=v;break e}Ho=a.return}}var w=e.current;for(Ho=w;null!==Ho;){var b=(o=Ho).child;if(0!=(2064&o.subtreeFlags)&&null!==b)b.return=o,Ho=b;else e:for(o=w;null!==Ho;){if(0!=(2048&(l=Ho).flags))try{switch(l.tag){case 0:case 11:case 15:Qo(9,l)}}catch(e){du(l,l.return,e)}if(l===o){Ho=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Ho=E;break e}Ho=l.return}}if(gl=i,Vi(),st&&"function"==typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{vt=n,ml.transition=t}}return!1}function hu(e,t,n){ns(e,t=oo(0,t=to(n,t),1)),t=jl(),null!==(e=Hl(e,1))&&(gt(e,1,t),ql(e,t))}function du(e,t,n){if(3===e.tag)hu(e,e,n);else for(;null!==t;){if(3===t.tag){hu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Pl||!Pl.has(r))){ns(t,e=lo(t,e=to(n,e),1)),e=jl(),null!==(t=Hl(t,1))&&(gt(t,1,e),ql(t,e));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=jl(),e.pingedLanes|=e.suspendedLanes&n,yl===e&&(wl&n)===n&&(4===kl||3===kl&&(130023424&wl)===wl&&500>Ye()-Al?eu(e,0):Il|=n),ql(e,t)}function pu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=jl();null!==(e=Hl(e,t))&&(gt(e,t,n),ql(e,n))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}function yu(e,t){return We(e,t)}function vu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wu(e,t,n,r){return new vu(e,t,n,r)}function bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Eu(e,t){var n=e.alternate;return null===n?((n=wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ku(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)bu(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case S:return Su(n.children,i,a,t);case _:o=8,i|=8;break;case T:return(e=wu(12,n,t,2|i)).elementType=T,e.lanes=a,e;case A:return(e=wu(13,n,t,i)).elementType=A,e.lanes=a,e;case x:return(e=wu(19,n,t,i)).elementType=x,e.lanes=a,e;case P:return _u(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:o=10;break e;case C:o=9;break e;case N:o=11;break e;case R:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=wu(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Su(e,t,n,r){return(e=wu(7,e,r,t)).lanes=n,e}function _u(e,t,n,r){return(e=wu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Tu(e,t,n){return(e=wu(6,e,null,t)).lanes=n,e}function Iu(e,t,n){return(t=wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nu(e,t,n,r,i,s,a,o,l){return e=new Cu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=wu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(s),e}function Au(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function xu(e){if(!e)return _i;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Ru(e,t,n,r,i,s,a,o,l){return(e=Nu(n,r,!0,e,0,s,0,o,l)).context=xu(null),n=e.current,(s=ts(r=jl(),i=Bl(n))).callback=null!=t?t:null,ns(n,s),e.current.lanes=i,gt(e,i,r),ql(e,r),e}function Du(e,t,n,r){var i=t.current,s=jl(),a=Bl(i);return n=xu(n),null===t.context?t.context=n:t.pendingContext=n,(t=ts(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ns(i,t),null!==(e=$l(i,a,s))&&rs(e,i,a),a}function Pu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ou(e,t){Lu(e,t),(e=e.alternate)&&Lu(e,t)}hl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)yo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),Fs();break;case 5:Js(t);break;case 1:Ai(t.type)&&Pi(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ea,1&ea.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ro(e,t,n):(Si(ea,1&ea.current),null!==(e=Vo(e,t,n))?e.sibling:null);Si(ea,1&ea.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Vo(e,t,n)}(e,t,n);yo=0!=(131072&e.flags)}else yo=!1,As&&0!=(1048576&t.flags)&&_s(t,ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ni(t,Ti.current);Qi(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Pi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=us,t.stateNode=i,i._reactInternals=t,fs(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,As&&a&&Ts(t),vo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return bu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=ji(r,e),i){case 0:t=_o(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=bo(null,t,r,ji(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,es(e,t),ss(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,r,n,i=Error(s(423)));break e}if(r!==i){t=No(e,t,r,n,i=Error(s(424)));break e}for(Ns=ai(t.stateNode.containerInfo.firstChild),Cs=t,As=!0,xs=null,n=Hs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fs(),r===i){t=Vo(e,t,n);break e}vo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&Ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,Zr(r,i)?o=null:null!==a&&Zr(r,a)&&(t.flags|=32),So(e,t),vo(e,t,o,n),t.child;case 6:return null===e&&Ls(t),null;case 13:return Ro(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:ji(r,i),n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Si(Bi,r._currentValue),r._currentValue=o,null!==a)if(sr(a.value,o)){if(a.children===i.children&&!Ii.current){t=Vo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=ts(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Gi(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Gi(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Xi(i)),t.flags|=1,vo(e,t,r,n),t.child;case 14:return i=ji(r=t.type,t.pendingProps),bo(e,t,r,i=ji(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Pi(t)):e=!1,Qi(t,n),hs(t,r,i),fs(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Mu="function"==typeof reportError?reportError:function(e){console.error(e)};function Fu(e){this._internalRoot=e}function Uu(e){this._internalRoot=e}function Vu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ju(){}function Bu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=Pu(a);o.call(e)}}Du(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=Pu(a);s.call(e)}}var a=Ru(t,r,e,0,null,!1,0,"",ju);return e._reactRootContainer=a,e[hi]=a.current,zr(8===e.nodeType?e.parentNode:e),Jl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=Pu(l);o.call(e)}}var l=Nu(e,0,!1,null,0,!1,0,"",ju);return e._reactRootContainer=l,e[hi]=l.current,zr(8===e.nodeType?e.parentNode:e),Jl((function(){Du(t,l,n,r)})),l}(n,t,e,i,r);return Pu(a)}Uu.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Du(e,t,null,null)},Uu.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jl((function(){Du(null,e,null,null)})),t[hi]=null}},Uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ql(t,Ye()),0==(6&gl)&&(xl=Ye()+500,Vi()))}break;case 13:var r=jl();Jl((function(){return $l(e,1,r)})),Ou(e,1)}},Et=function(e){13===e.tag&&($l(e,134217728,jl()),Ou(e,134217728))},kt=function(e){if(13===e.tag){var t=jl(),n=Bl(e);$l(e,n,t),Ou(e,n)}},St=function(){return vt},_t=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vi(r);if(!i)throw Error(s(90));W(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=Yl,Ae=Jl;var $u={usingClientEntryPoint:!1,Events:[gi,yi,vi,Ie,Ce,Yl]},Hu={findFiberByHostInstance:mi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},qu={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{it=Ku.inject(qu),st=Ku}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vu(t))throw Error(s(200));return Au(e,t,null,n)},t.createRoot=function(e,t){if(!Vu(e))throw Error(s(299));var n=!1,r="",i=Mu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Fu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return Jl(e)},t.hydrate=function(e,t,n){if(!zu(t))throw Error(s(200));return Bu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Mu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Ru(t,null,e,1,null!=n?n:null,i,0,a,o),e[hi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uu(t)},t.render=function(e,t,n){if(!zu(t))throw Error(s(200));return Bu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zu(e))throw Error(s(40));return!!e._reactRootContainer&&(Jl((function(){Bu(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=Yl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Bu(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},745:(e,t,n)=>{"use strict";var r=n(935);t.s=r.createRoot,r.hydrateRoot},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!_.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,E(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+N(o=e[u],u);l+=A(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=A(o=o.value,t,i,c=s+N(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function x(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!_.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},294:(e,t,n)=>{"use strict";e.exports=n(408)},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,s=Object.create(i.prototype),a=new N(r||[]);return s._invoke=function(e,t,n){var r=h;return function(i,s){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw s;return x()}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var o=T(a,n);if(o){if(o===m)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function v(){}var w={};l(w,s,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(A([])));E&&E!==n&&r.call(E,s)&&(w=E);var k=v.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,s,a,o){var l=c(e[i],e,s);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,o)}))}o(l.arg)}var i;this._invoke=function(e,r){function s(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(s,s):s()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return y.prototype=v,l(k,"constructor",v),l(v,"constructor",y),y.displayName=l(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,o,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(_.prototype),l(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var a=new _(u(t,n,r,i),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(k),l(k,o,"Generator"),l(k,s,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return o.type="throw",o.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,P(k);else{var t=r(c);null!==t&&L(E,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?d.callback=o:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,T=null,I=-1,C=5,N=-1;function A(){return!(t.unstable_now()-N<C)}function x(){if(null!==T){var e=t.unstable_now();N=e;var n=!0;try{n=T(!0,e)}finally{n?S():(_=!1,T=null)}}else _=!1}if("function"==typeof w)S=function(){w(x)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=x,S=function(){D.postMessage(null)}}else S=function(){y(x,0)};function P(e){T=e,_||(_=!0,S())}function L(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(I),I=-1):g=!0,L(E,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,P(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t=n(294),r=n(745);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var s="beforeunload";function a(e){e.preventDefault(),e.returnValue=""}function o(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function l(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const u=(0,t.createContext)(null),c=(0,t.createContext)(null),h=(0,t.createContext)({outlet:null,matches:[]});function d(e,t){if(!e)throw new Error(t)}function f(e,t,n){void 0===n&&(n="/");let r=b(("string"==typeof t?l(t):t).pathname||"/",n);if(null==r)return null;let i=p(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let e=0;null==s&&e<i.length;++e)s=v(i[e],r);return s}function p(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||d(!1),s.relativePath=s.relativePath.slice(r.length));let a=E([r,s.relativePath]),o=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&d(!1),p(e.children,t,o,a)),(null!=e.path||e.index)&&t.push({path:a,score:y(a,e.index),routesMeta:o})})),t}const m=/^:\w+$/,g=e=>"*"===e;function y(e,t){let n=e.split("/"),r=n.length;return n.some(g)&&(r+=-2),t&&(r+=2),n.filter((e=>!g(e))).reduce(((e,t)=>e+(m.test(t)?3:""===t?1:10)),r)}function v(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let e=0;e<n.length;++e){let a=n[e],o=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=w({path:a.relativePath,caseSensitive:a.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=a.route;s.push({params:r,pathname:E([i,u.pathname]),pathnameBase:k(E([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=E([i,u.pathnameBase]))}return s}function w(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(o[n]||""),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function b(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const E=e=>e.join("/").replace(/\/\/+/g,"/"),k=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),S=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",_=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function T(){return null!=(0,t.useContext)(c)}function I(){return T()||d(!1),(0,t.useContext)(c).location}function C(){T()||d(!1);let{basename:e,navigator:n}=(0,t.useContext)(u),{matches:r}=(0,t.useContext)(h),{pathname:i}=I(),s=JSON.stringify(r.map((e=>e.pathnameBase))),a=(0,t.useRef)(!1);(0,t.useEffect)((()=>{a.current=!0}));let o=(0,t.useCallback)((function(t,r){if(void 0===r&&(r={}),!a.current)return;if("number"==typeof t)return void n.go(t);let o=function(e,t,n){let r,i="string"==typeof e?l(e):e,s=""===e||""===i.pathname?"/":i.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?l(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:S(r),hash:_(i)}}(i,r);return s&&"/"!==s&&s.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}(t,JSON.parse(s),i);"/"!==e&&(o.pathname=E([e,o.pathname])),(r.replace?n.replace:n.push)(o,r.state)}),[e,n,s,i]);return o}function N(e){let{to:n,replace:r,state:i}=e;T()||d(!1);let s=C();return(0,t.useEffect)((()=>{s(n,{replace:r,state:i})})),null}function A(e){d(!1)}function x(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:h=!1}=n;T()&&d(!1);let f=k(r),p=(0,t.useMemo)((()=>({basename:f,navigator:o,static:h})),[f,o,h]);"string"==typeof s&&(s=l(s));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:w="default"}=s,E=(0,t.useMemo)((()=>{let e=b(m,f);return null==e?null:{pathname:e,search:g,hash:y,state:v,key:w}}),[f,m,g,y,v,w]);return null==E?null:(0,t.createElement)(u.Provider,{value:p},(0,t.createElement)(c.Provider,{children:i,value:{location:E,navigationType:a}}))}function R(e){let{children:n,location:r}=e;return function(e,n){T()||d(!1);let{matches:r}=(0,t.useContext)(h),i=r[r.length-1],s=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let o,u=I();if(n){var c;let e="string"==typeof n?l(n):n;"/"===a||(null==(c=e.pathname)?void 0:c.startsWith(a))||d(!1),o=e}else o=u;let p=o.pathname||"/",m=f(e,{pathname:"/"===a?p:p.slice(a.length)||"/"});return function(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight(((r,i,s)=>(0,t.createElement)(h.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,s+1))}})),null)}(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:E([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:E([a,e.pathnameBase])}))),r)}(D(n),r)}function D(e){let n=[];return t.Children.forEach(e,(e=>{if(!(0,t.isValidElement)(e))return;if(e.type===t.Fragment)return void n.push.apply(n,D(e.props.children));e.type!==A&&d(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=D(e.props.children)),n.push(r)})),n}function P(n){let{basename:r,children:u,window:c}=n,h=(0,t.useRef)();null==h.current&&(h.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,u=r.history;function c(){var e=r.location,t=e.pathname,n=e.search,i=e.hash,s=u.state||{};return[s.idx,{pathname:t,search:n,hash:i,state:s.usr||null,key:s.key||"default"}]}var h=null;r.addEventListener("popstate",(function(){if(h)y.call(h),h=null;else{var t=e.Pop,n=c(),r=n[0],i=n[1];if(y.length){if(null!=r){var s=p-r;s&&(h={action:t,location:i,retry:function(){S(-1*s)}},S(s))}}else k(t)}}));var d=e.Pop,f=c(),p=f[0],m=f[1],g=o(),y=o();function v(e){return"string"==typeof e?e:function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,s=e.hash,a=void 0===s?"":s;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}(e)}function w(e,t){return void 0===t&&(t=null),i({pathname:m.pathname,hash:"",search:""},"string"==typeof e?l(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function b(e,t){return[{usr:e.state,key:e.key,idx:t},v(e)]}function E(e,t,n){return!y.length||(y.call({action:e,location:t,retry:n}),!1)}function k(e){d=e;var t=c();p=t[0],m=t[1],g.call({action:d,location:m})}function S(e){u.go(e)}null==p&&(p=0,u.replaceState(i({},u.state,{idx:p}),""));var _={get action(){return d},get location(){return m},createHref:v,push:function t(n,i){var s=e.Push,a=w(n,i);if(E(s,a,(function(){t(n,i)}))){var o=b(a,p+1),l=o[0],c=o[1];try{u.pushState(l,"",c)}catch(e){r.location.assign(c)}k(s)}},replace:function t(n,r){var i=e.Replace,s=w(n,r);if(E(i,s,(function(){t(n,r)}))){var a=b(s,p),o=a[0],l=a[1];u.replaceState(o,"",l),k(i)}},go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(e){return g.push(e)},block:function(e){var t=y.push(e);return 1===y.length&&r.addEventListener(s,a),function(){t(),y.length||r.removeEventListener(s,a)}}};return _}({window:c}));let d=h.current,[f,p]=(0,t.useState)({action:d.action,location:d.location});return(0,t.useLayoutEffect)((()=>d.listen(p)),[d]),(0,t.createElement)(x,{basename:r,children:u,location:f.location,navigationType:f.action,navigator:d})}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return s}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const F=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(F(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const o=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw Error();const l=i<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},V=function(e){return function(e){const t=F(e);return U.encodeByteArray(t,!0)}(e).replace(/\./g,"")};class z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function j(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function B(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function $(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function H(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function q(){const e=j();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class K extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,K.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(G,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new K(r,a,n)}}const G=/\{\$([^}]+)}/g;function Q(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(X(n)&&X(s)){if(!Q(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function X(e){return null!==e&&"object"==typeof e}function Y(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function J(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function te(){}function ne(e){return e&&e._delegate?e._delegate:e}function re(e,t){return new Promise(((n,r)=>{e.onsuccess=e=>{n(e.target.result)},e.onerror=e=>{var n;r(`${t}: ${null===(n=e.target.error)||void 0===n?void 0:n.message}`)}}))}class ie{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t="readonly"){return new se(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new ae(this._db.createObjectStore(e,t))}close(){this._db.close()}}class se{constructor(e){this._transaction=e,this.complete=new Promise(((e,t)=>{this._transaction.oncomplete=function(){e()},this._transaction.onerror=()=>{t(this._transaction.error)},this._transaction.onabort=()=>{t(this._transaction.error)}}))}objectStore(e){return new ae(this._transaction.objectStore(e))}}class ae{constructor(e){this._store=e}index(e){return new oe(this._store.index(e))}createIndex(e,t,n){return new oe(this._store.createIndex(e,t,n))}get(e){return re(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return re(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return re(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return re(this._store.clear(),"Error clearing IndexedDB object store")}}class oe{constructor(e){this._index=e}get(e){return re(this._index.get(e),"Error reading from IndexedDB")}}class le{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ue="[DEFAULT]";class ce{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new z;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ue?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:ue:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ce(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const de=[];var fe,pe;(pe=fe||(fe={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT";const me={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ge=fe.INFO,ye={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ve=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=ye[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class we{constructor(e){this.name=e,this._logLevel=ge,this._logHandler=ve,this._userLogHandler=null,de.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?me[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}class be{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ee="@firebase/app",ke="0.7.21",Se=new we("@firebase/app"),_e={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Te=new Map,Ie=new Map;function Ce(e,t){try{e.container.addComponent(t)}catch(n){Se.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ne(e){const t=e.name;if(Ie.has(t))return Se.debug(`There were multiple attempts to register component ${t}.`),!1;Ie.set(t,e);for(const t of Te.values())Ce(t,e);return!0}function Ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const xe=new W("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Re{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new le("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xe.create("app-deleted",{appName:this._name})}}const De="9.6.11";function Pe(e="[DEFAULT]"){const t=Te.get(e);if(!t)throw xe.create("no-app",{appName:e});return t}function Le(e,t,n){var r;let i=null!==(r=_e[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Se.warn(e.join(" "))}Ne(new le(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Oe="firebase-heartbeat-store";let Me=null;function Fe(){var e;return Me||(Me=("firebase-heartbeat-database",1,e=(e,t)=>{0===t&&e.createObjectStore(Oe)},new Promise(((t,n)=>{try{const r=indexedDB.open("firebase-heartbeat-database",1);r.onsuccess=e=>{t(new ie(e.target.result))},r.onerror=e=>{var t;n(`Error opening indexedDB: ${null===(t=e.target.error)||void 0===t?void 0:t.message}`)},r.onupgradeneeded=t=>{e(new ie(r.result),t.oldVersion,t.newVersion,new se(r.transaction))}}catch(e){n(`Error opening indexedDB: ${e.message}`)}}))).catch((e=>{throw xe.create("storage-open",{originalErrorMessage:e.message})}))),Me}async function Ue(e,t){try{const n=(await Fe()).transaction(Oe,"readwrite"),r=n.objectStore(Oe);return await r.put(t,Ve(e)),n.complete}catch(e){throw xe.create("storage-set",{originalErrorMessage:e.message})}}function Ve(e){return`${e.name}!${e.options.appId}`}class ze{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Be(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=je();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=je(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),$e(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$e(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=V(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function je(){return(new Date).toISOString().substring(0,10)}class Be{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return"object"==typeof indexedDB&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){return await this._canUseIndexedDBPromise&&await async function(e){try{return(await Fe()).transaction(Oe).objectStore(Oe).get(Ve(e))}catch(e){throw xe.create("storage-get",{originalErrorMessage:e.message})}}(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ue(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ue(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $e(e){return V(JSON.stringify({version:2,heartbeats:e})).length}function He(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Ne(new le("platform-logger",(e=>new be(e)),"PRIVATE")),Ne(new le("heartbeat",(e=>new ze(e)),"PRIVATE")),Le(Ee,ke,""),Le(Ee,ke,"esm2017"),Le("fire-js",""),Object.create,Object.create;const qe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new W("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new we("@firebase/auth");function Ge(e,...t){We.logLevel<=fe.ERROR&&We.error(`Auth (9.6.11): ${e}`,...t)}function Qe(e,...t){throw Je(e,...t)}function Xe(e,...t){return Je(e,...t)}function Ye(e,t,n){const r=Object.assign(Object.assign({},qe()),{[t]:n});return new W("auth","Firebase",r).create(t,{appName:e.name})}function Je(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Ke.create(e,...t)}function Ze(e,t,...n){if(!e)throw Je(t,...n)}function et(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ge(t),new Error(t)}function tt(e,t){e||et(t)}const nt=new Map;function rt(e){tt(e instanceof Function,"Expected a class definition");let t=nt.get(e);return t?(tt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nt.set(e,t),t)}function it(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function st(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class at{constructor(e,t){this.shortDelay=e,this.longDelay=t,tt(t>e,"Short delay should be less than long delay!"),this.isMobile=B()||H()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===st()||"https:"===st()||$()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ot(e,t){tt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class lt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ct=new at(3e4,6e4);function ht(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dt(e,t,n,r,i={}){return ft(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Y(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),lt.fetch()(mt(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function ft(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ut),t);try{const t=new gt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw yt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw yt(e,"email-already-in-use",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ye(e,o,a);Qe(e,o)}}catch(t){if(t instanceof K)throw t;Qe(e,"network-request-failed")}}async function pt(e,t,n,r,i={}){const s=await dt(e,t,n,r,i);return"mfaPendingCredential"in s&&Qe(e,"multi-factor-auth-required",{_serverResponse:s}),s}function mt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?ot(e.config,i):`${e.config.apiScheme}://${i}`}class gt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Xe(this.auth,"network-request-failed"))),ct.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function yt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xe(e,t,r);return i.customData._tokenResponse=n,i}function vt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function wt(e){return 1e3*Number(e)}function bt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return U.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(Ge("Failed to decode base64 JWT payload"),null)}catch(e){return Ge("Caught error parsing JWT payload as JSON",e),null}}async function Et(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof K&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class kt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class St{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _t(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Et(e,async function(e,t){return dt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ze(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=He(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],o=(l=e.providerData,u=a,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==o?void 0:o.length)),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new St(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(void 0!==e.idToken,"internal-error"),Ze(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=bt(e);return Ze(t,"internal-error"),Ze(void 0!==t.exp,"internal-error"),Ze(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Ze(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ft(e,{},(async()=>{const n=Y({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=mt(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lt.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Tt;return n&&(Ze("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ze("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ze("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tt,this.toJSON())}_performRefresh(){return et("not implemented")}}function It(e,t){Ze("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ct{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=He(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new St(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Et(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ne(e),r=await n.getIdToken(t),i=bt(r);Ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vt(wt(i.auth_time)),issuedAtTime:vt(wt(i.iat)),expirationTime:vt(wt(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ne(e);await _t(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ct(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _t(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Et(this,async function(e,t){return dt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:k}=t;Ze(v&&k,e,"internal-error");const S=Tt.fromJSON(this.name,k);Ze("string"==typeof v,e,"internal-error"),It(c,e.name),It(h,e.name),Ze("boolean"==typeof w,e,"internal-error"),Ze("boolean"==typeof b,e,"internal-error"),It(d,e.name),It(f,e.name),It(p,e.name),It(m,e.name),It(g,e.name),It(y,e.name);const _=new Ct({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(_.providerData=E.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t,n=!1){const r=new Tt;r.updateFromServerResponse(t);const i=new Ct({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await _t(i),i}}class Nt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nt.type="NONE";const At=Nt;function xt(e,t,n){return`firebase:${e}:${t}:${n}`}class Rt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xt(this.userKey,r.apiKey,i),this.fullPersistenceKey=xt("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ct._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Rt(rt(At),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||rt(At);const s=xt(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(s);if(t){const r=Ct._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new Rt(i,e,n)):new Rt(i,e,n)}}function Dt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ut(t))return"Blackberry";if(Vt(t))return"Webos";if(Lt(t))return"Safari";if((t.includes("chrome/")||Ot(t))&&!t.includes("edge/"))return"Chrome";if(Ft(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Pt(e=j()){return/firefox\//i.test(e)}function Lt(e=j()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ot(e=j()){return/crios\//i.test(e)}function Mt(e=j()){return/iemobile/i.test(e)}function Ft(e=j()){return/android/i.test(e)}function Ut(e=j()){return/blackberry/i.test(e)}function Vt(e=j()){return/webos/i.test(e)}function zt(e=j()){return/iphone|ipad|ipod/i.test(e)}function jt(e=j()){return zt(e)||Ft(e)||Vt(e)||Ut(e)||/windows phone/i.test(e)||Mt(e)}function Bt(e,t=[]){let n;switch(e){case"Browser":n=Dt(j());break;case"Worker":n=`${Dt(j())}-${e}`;break;default:n=e}return`${n}/JsCore/9.6.11/${t.length?t.join(","):"FirebaseCore-web"}`}class $t{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qt(this),this.idTokenSubscription=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rt(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Rt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _t(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ne(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(rt(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new W("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rt(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await Rt.create(this,[rt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Ht(e){return ne(e)}class qt{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ee(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Kt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return et("not implemented")}_getIdTokenResponse(e){return et("not implemented")}_linkToIdToken(e,t){return et("not implemented")}_getReauthenticationResolver(e){return et("not implemented")}}class Wt extends Kt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Wt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Wt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return pt(e,"POST","/v1/accounts:signInWithPassword",ht(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return pt(e,"POST","/v1/accounts:signInWithEmailLink",ht(e,t))}(e,{email:this._email,oobCode:this._password});default:Qe(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return dt(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return pt(e,"POST","/v1/accounts:signInWithEmailLink",ht(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qe(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gt(e,t){return pt(e,"POST","/v1/accounts:signInWithIdp",ht(e,t))}class Qt extends Kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qe("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=He(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Qt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Gt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Y(t)}return e}}const Xt={USER_NOT_FOUND:"user-not-found"};class Yt extends Kt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Yt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Yt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return pt(e,"POST","/v1/accounts:signInWithPhoneNumber",ht(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await pt(e,"POST","/v1/accounts:signInWithPhoneNumber",ht(e,t));if(n.temporaryProof)throw yt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return pt(e,"POST","/v1/accounts:signInWithPhoneNumber",ht(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Xt)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Yt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Jt{constructor(e){var t,n,r,i,s,a;const o=J(Z(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Ze(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=J(Z(e)).link,n=t?J(Z(t)).deep_link_id:null,r=J(Z(e)).deep_link_id;return(r?J(Z(r)).link:null)||r||n||t||e}(e);try{return new Jt(t)}catch(e){return null}}}class Zt{constructor(){this.providerId=Zt.PROVIDER_ID}static credential(e,t){return Wt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Jt.parseLink(t);return Ze(n,"argument-error"),Wt._fromEmailAndCode(e,n.code,n.tenantId)}}Zt.PROVIDER_ID="password",Zt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class en{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tn extends en{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nn extends tn{constructor(){super("facebook.com")}static credential(e){return Qt._fromParams({providerId:nn.PROVIDER_ID,signInMethod:nn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nn.credentialFromTaggedObject(e)}static credentialFromError(e){return nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return nn.credential(e.oauthAccessToken)}catch(e){return null}}}nn.FACEBOOK_SIGN_IN_METHOD="facebook.com",nn.PROVIDER_ID="facebook.com";class rn extends tn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qt._fromParams({providerId:rn.PROVIDER_ID,signInMethod:rn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rn.credentialFromTaggedObject(e)}static credentialFromError(e){return rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return rn.credential(t,n)}catch(e){return null}}}rn.GOOGLE_SIGN_IN_METHOD="google.com",rn.PROVIDER_ID="google.com";class sn extends tn{constructor(){super("github.com")}static credential(e){return Qt._fromParams({providerId:sn.PROVIDER_ID,signInMethod:sn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sn.credentialFromTaggedObject(e)}static credentialFromError(e){return sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return sn.credential(e.oauthAccessToken)}catch(e){return null}}}sn.GITHUB_SIGN_IN_METHOD="github.com",sn.PROVIDER_ID="github.com";class an extends tn{constructor(){super("twitter.com")}static credential(e,t){return Qt._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return an.credentialFromTaggedObject(e)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return an.credential(t,n)}catch(e){return null}}}an.TWITTER_SIGN_IN_METHOD="twitter.com",an.PROVIDER_ID="twitter.com";class on{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Ct._fromIdTokenResponse(e,n,r),s=ln(n);return new on({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ln(n);return new on({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ln(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class un extends K{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,un.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new un(e,t,n,r)}}function cn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw un._fromErrorAndOperation(e,n,t,r);throw n}))}new WeakMap;const hn="__sak";class dn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hn,"1"),this.storage.removeItem(hn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fn extends dn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=j();return Lt(e)||zt(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);q()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fn.type="LOCAL";const pn=fn;class mn extends dn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mn.type="SESSION";const gn=mn;class yn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new yn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vn(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}yn.receivers=[];class wn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=vn("",20);r.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function bn(){return window}function En(){return void 0!==bn().WorkerGlobalScope&&"function"==typeof bn().importScripts}const kn="firebaseLocalStorageDb",Sn="firebaseLocalStorage",_n="fbase_key";class Tn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function In(e,t){return e.transaction([Sn],t?"readwrite":"readonly").objectStore(Sn)}function Cn(){const e=indexedDB.open(kn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Sn,{keyPath:_n})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Sn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(kn);return new Tn(e).toPromise()}(),t(await Cn()))}))}))}async function Nn(e,t,n){const r=In(e,!0).put({[_n]:t,value:n});return new Tn(r).toPromise()}function An(e,t){const n=In(e,!0).delete(t);return new Tn(n).toPromise()}class xn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Cn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return En()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yn._getInstance(En()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cn();return await Nn(e,hn,"1"),await An(e,hn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Nn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=In(e,!1).get(t),r=await new Tn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>An(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=In(e,!1).getAll();return new Tn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xn.type="LOCAL";const Rn=xn;function Dn(e){return`__${e}${Math.floor(1e6*Math.random())}`}Dn("rcb"),new at(3e4,6e4);class Pn{constructor(e){this.providerId=Pn.PROVIDER_ID,this.auth=Ht(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let s;if(Ze("string"==typeof i,e,"argument-error"),Ze("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ze("enroll"===t.type,e,"internal-error");const n=await function(e,t){return dt(e,"POST","/v2/accounts/mfaEnrollment:start",ht(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ze("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ze(n,e,"missing-multi-factor-info");const a=await function(e,t){return dt(e,"POST","/v2/accounts/mfaSignIn:start",ht(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dt(e,"POST","/v1/accounts:sendVerificationCode",ht(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,ne(t))}static credential(e,t){return Yt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pn.credentialFromTaggedObject(t)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Yt._fromTokenResponse(t,n):null}}function Ln(e,t){return t?rt(t):(Ze(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pn.PROVIDER_ID="phone",Pn.PHONE_SIGN_IN_METHOD="phone";class On extends Kt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mn(e){return async function(e,t,n=!1){const r="signIn",i=await cn(e,r,t),s=await on._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}(e.auth,new On(e),e.bypassAuthState)}function Fn(e){const{auth:t,user:n}=e;return Ze(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Et(e,cn(r,i,t,e),n);Ze(s.idToken,r,"internal-error");const a=bt(s.idToken);Ze(a,r,"internal-error");const{sub:o}=a;return Ze(e.uid===o,r,"user-mismatch"),on._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Qe(r,"user-mismatch"),e}}(n,new On(e),e.bypassAuthState)}async function Un(e){const{auth:t,user:n}=e;return Ze(n,t,"internal-error"),async function(e,t,n=!1){const r=await Et(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return on._forOperation(e,"link",r)}(n,new On(e),e.bypassAuthState)}class Vn{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mn;case"linkViaPopup":case"linkViaRedirect":return Un;case"reauthViaPopup":case"reauthViaRedirect":return Fn;default:Qe(this.auth,"internal-error")}}resolve(e){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zn=new at(2e3,1e4);class jn extends Vn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jn.currentPopupAction&&jn.currentPopupAction.cancel(),jn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){tt(1===this.filter.length,"Popup operations only handle one event");const e=vn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Xe(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,zn.get())};e()}}jn.currentPopupAction=null;const Bn=new Map;class $n extends Vn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Bn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return xt("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return rt(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Bn.set(this.auth._key(),e)}return this.bypassAuthState||Bn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Hn(e,t,n=!1){const r=Ht(e),i=Ln(r,t),s=new $n(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class qn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Wn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xe(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kn(e))}saveEventToCache(e){this.cachedEventUids.add(Kn(e)),this.lastProcessedEventTime=Date.now()}}function Kn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Wn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Gn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qn=/^https?/;function Xn(e){const t=it(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qn.test(n))return!1;if(Gn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yn=new at(3e4,6e4);function Jn(){const e=bn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Zn=null;function er(e){return Zn=Zn||function(e){return new Promise(((t,n)=>{var r,i,s,a;function o(){Jn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jn(),n(Xe(e,"network-request-failed"))},timeout:Yn.get()})}if(null===(i=null===(r=bn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=bn().gapi)||void 0===s?void 0:s.load)){const t=Dn("iframefcb");return bn()[t]=()=>{gapi.load?o():n(Xe(e,"network-request-failed"))},(a=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=e=>{const n=Xe("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))).catch((e=>n(e)))}o()}})).catch((e=>{throw Zn=null,e}))}(e),Zn}const tr=new at(5e3,15e3),nr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ir(e){const t=e.config;Ze(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ot(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:De},i=rr.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Y(r).slice(1)}`}const sr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ar{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function or(e,t,n,r,i,s){Ze(e.config.authDomain,e,"auth-domain-config-required"),Ze(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:De,eventId:i};if(t instanceof en){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof tn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const e of Object.keys(o))void 0===o[e]&&delete o[e];return`${function({config:e}){return e.emulator?ot(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${Y(o).slice(1)}`}const lr="webStorageSupport",ur=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gn,this._completeRedirectFn=Hn}async _openPopup(e,t,n,r){var i;return tt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},sr),{width:r.toString(),height:i.toString(),top:s,left:a}),u=j().toLowerCase();n&&(o=Ot(u)?"_blank":n),Pt(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=j()){var t;return zt(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ar(null);const h=window.open(t||"",o,c);Ze(h,e,"popup-blocked");try{h.focus()}catch(e){}return new ar(h)}(e,or(e,t,n,it(),r),vn())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=or(e,t,n,it(),r),bn().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(tt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await er(e),n=bn().gapi;return Ze(n,e,"internal-error"),t.open({where:document.body,url:ir(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Xe(e,"network-request-failed"),s=bn().setTimeout((()=>{r(i)}),tr.get());function a(){bn().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new qn(e);return t.register("authEvent",(t=>(Ze(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lr,{type:lr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Qe(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return dt(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Xn(e))return}catch(e){}Qe(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jt()||Lt()||zt()}};var cr,hr="@firebase/auth",dr="0.19.12";class fr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}cr="Browser",Ne(new le("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:s}=n.options;return((e,n)=>{Ze(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),Ze(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:s,clientPlatform:cr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bt(cr)},a=new $t(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rt);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(a,t),a})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ne(new le("auth-internal",(e=>(e=>new fr(e))(Ht(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Le(hr,dr,void 0),Le(hr,dr,"esm2017"),Le("firebase","9.6.11","app");var pr,mr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},gr={},yr=yr||{},vr=mr||self;function wr(){}function br(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Er(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kr="closure_uid_"+(1e9*Math.random()>>>0),Sr=0;function _r(e,t,n){return e.call.apply(e.bind,arguments)}function Tr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ir(e,t,n){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_r:Tr).apply(null,arguments)}function Cr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Nr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ar(){this.s=this.s,this.o=this.o}var xr={};Ar.prototype.s=!1,Ar.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,kr)&&e[kr]||(e[kr]=++Sr)}(this);delete xr[e]}},Ar.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Dr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Pr(e){return Array.prototype.concat.apply([],arguments)}function Lr(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Or(e){return/^[\s\xa0]*$/.test(e)}var Mr,Fr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ur(e,t){return-1!=e.indexOf(t)}function Vr(e,t){return e<t?-1:e>t?1:0}e:{var zr=vr.navigator;if(zr){var jr=zr.userAgent;if(jr){Mr=jr;break e}}Mr=""}function Br(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function $r(e){const t={};for(const n in e)t[n]=e[n];return t}var Hr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qr(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Hr.length;t++)n=Hr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Kr(e){return Kr[" "](e),e}Kr[" "]=wr;var Wr,Gr,Qr=Ur(Mr,"Opera"),Xr=Ur(Mr,"Trident")||Ur(Mr,"MSIE"),Yr=Ur(Mr,"Edge"),Jr=Yr||Xr,Zr=Ur(Mr,"Gecko")&&!(Ur(Mr.toLowerCase(),"webkit")&&!Ur(Mr,"Edge"))&&!(Ur(Mr,"Trident")||Ur(Mr,"MSIE"))&&!Ur(Mr,"Edge"),ei=Ur(Mr.toLowerCase(),"webkit")&&!Ur(Mr,"Edge");function ti(){var e=vr.document;return e?e.documentMode:void 0}e:{var ni="",ri=(Gr=Mr,Zr?/rv:([^\);]+)(\)|;)/.exec(Gr):Yr?/Edge\/([\d\.]+)/.exec(Gr):Xr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gr):ei?/WebKit\/(\S+)/.exec(Gr):Qr?/(?:Version)[ \/]?(\S+)/.exec(Gr):void 0);if(ri&&(ni=ri?ri[1]:""),Xr){var ii=ti();if(null!=ii&&ii>parseFloat(ni)){Wr=String(ii);break e}}Wr=ni}var si,ai={};function oi(){return e=ai,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=Fr(String(Wr)).split("."),n=Fr("9").split("."),r=Math.max(t.length,n.length);for(let a=0;0==e&&a<r;a++){var i=t[a]||"",s=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Vr(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Vr(0==i[2].length,0==s[2].length)||Vr(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}vr.document&&Xr?si=ti()||parseInt(Wr,10)||void 0:si=void 0;var li=si,ui=function(){if(!vr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vr.addEventListener("test",wr,t),vr.removeEventListener("test",wr,t)}catch(e){}return e}();function ci(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function hi(e,t){if(ci.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zr){e:{try{Kr(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:di[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hi.Z.h.call(this)}}ci.prototype.h=function(){this.defaultPrevented=!0},Nr(hi,ci);var di={2:"touch",3:"pen",4:"mouse"};hi.prototype.h=function(){hi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fi="closure_listenable_"+(1e6*Math.random()|0),pi=0;function mi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++pi,this.ca=this.fa=!1}function gi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yi(e){this.src=e,this.g={},this.h=0}function vi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Rr(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(gi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wi(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}yi.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=wi(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new mi(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var bi="closure_lm_"+(1e6*Math.random()|0),Ei={};function ki(e,t,n,r,i){if(r&&r.once)return _i(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ki(e,t[s],n,r,i);return null}return n=Ri(n),e&&e[fi]?e.N(t,n,Er(r)?!!r.capture:!!r,i):Si(e,t,n,!1,r,i)}function Si(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Er(i)?!!i.capture:!!i,o=Ai(e);if(o||(e[bi]=o=new yi(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){var e=Ni;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ui||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ci(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _i(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)_i(e,t[s],n,r,i);return null}return n=Ri(n),e&&e[fi]?e.O(t,n,Er(r)?!!r.capture:!!r,i):Si(e,t,n,!0,r,i)}function Ti(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ti(e,t[s],n,r,i);else r=Er(r)?!!r.capture:!!r,n=Ri(n),e&&e[fi]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=wi(s=e.g[t],n,r,i))&&(gi(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Ai(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wi(t,n,r,i)),(n=-1<e?t[e]:null)&&Ii(n))}function Ii(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[fi])vi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ci(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ai(t))?(vi(n,e),0==n.h&&(n.src=null,t[bi]=null)):gi(e)}}}function Ci(e){return e in Ei?Ei[e]:Ei[e]="on"+e}function Ni(e,t){if(e.ca)e=!0;else{t=new hi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ii(e),e=n.call(r,t)}return e}function Ai(e){return(e=e[bi])instanceof yi?e:null}var xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ri(e){return"function"==typeof e?e:(e[xi]||(e[xi]=function(t){return e.handleEvent(t)}),e[xi])}function Di(){Ar.call(this),this.i=new yi(this),this.P=this,this.I=null}function Pi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ci(t,e);else if(t instanceof ci)t.target=t.target||e;else{var i=t;qr(t=new ci(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Li(a,r,!0,t)&&i}if(i=Li(a=t.g=e,r,!0,t)&&i,i=Li(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Li(a=t.g=n[s],r,!1,t)&&i}function Li(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var o=a.listener,l=a.ia||a.src;a.fa&&vi(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Nr(Di,Ar),Di.prototype[fi]=!0,Di.prototype.removeEventListener=function(e,t,n,r){Ti(this,e,t,n,r)},Di.prototype.M=function(){if(Di.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gi(n[r]);delete t.g[e],t.h--}}this.I=null},Di.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Di.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oi=vr.JSON.stringify;function Mi(){var e=$i;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fi,Ui=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Vi),(e=>e.reset()));class Vi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zi(e){vr.setTimeout((()=>{throw e}),0)}function ji(e,t){Fi||function(){var e=vr.Promise.resolve(void 0);Fi=function(){e.then(Hi)}}(),Bi||(Fi(),Bi=!0),$i.add(e,t)}var Bi=!1,$i=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ui.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Hi(){for(var e;e=Mi();){try{e.h.call(e.g)}catch(e){zi(e)}var t=Ui;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bi=!1}function qi(e,t){Di.call(this),this.h=e||1,this.g=t||vr,this.j=Ir(this.kb,this),this.l=Date.now()}function Ki(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Wi(e,t,n){if("function"==typeof e)n&&(e=Ir(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ir(e.handleEvent,e)}return 2147483647<Number(t)?-1:vr.setTimeout(e,t||0)}function Gi(e){e.g=Wi((()=>{e.g=null,e.i&&(e.i=!1,Gi(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Nr(qi,Di),(pr=qi.prototype).da=!1,pr.S=null,pr.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pi(this,"tick"),this.da&&(Ki(this),this.start()))}},pr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pr.M=function(){qi.Z.M.call(this),Ki(this),delete this.g};class Qi extends Ar{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gi(this)}M(){super.M(),this.g&&(vr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(e){Ar.call(this),this.h=e,this.g={}}Nr(Xi,Ar);var Yi=[];function Ji(e,t,n,r){Array.isArray(n)||(n&&(Yi[0]=n.toString()),n=Yi);for(var i=0;i<n.length;i++){var s=ki(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Zi(e){Br(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ii(e)}),e),e.g={}}function es(){this.g=!0}function ts(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Oi(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Xi.prototype.M=function(){Xi.Z.M.call(this),Zi(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},es.prototype.Aa=function(){this.g=!1},es.prototype.info=function(){};var ns={},rs=null;function is(){return rs=rs||new Di}function ss(e){ci.call(this,ns.Ma,e)}function as(e){const t=is();Pi(t,new ss(t,e))}function os(e,t){ci.call(this,ns.STAT_EVENT,e),this.stat=t}function ls(e){const t=is();Pi(t,new os(t,e))}function us(e,t){ci.call(this,ns.Na,e),this.size=t}function cs(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return vr.setTimeout((function(){e()}),t)}ns.Ma="serverreachability",Nr(ss,ci),ns.STAT_EVENT="statevent",Nr(os,ci),ns.Na="timingevent",Nr(us,ci);var hs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ds={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fs(){}function ps(e){return e.h||(e.h=e.i())}function ms(){}fs.prototype.h=null;var gs,ys={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vs(){ci.call(this,"d")}function ws(){ci.call(this,"c")}function bs(){}function Es(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xi(this),this.P=Ss,e=Jr?125:void 0,this.W=new qi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}Nr(vs,ci),Nr(ws,ci),Nr(bs,fs),bs.prototype.g=function(){return new XMLHttpRequest},bs.prototype.i=function(){return{}},gs=new bs;var Ss=45e3,_s={},Ts={};function Is(e,t,n){e.K=1,e.v=Qs($s(t)),e.s=n,e.U=!0,Cs(e,null)}function Cs(e,t){e.F=Date.now(),Rs(e),e.A=$s(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),la(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ks,e.g=lo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Qi(Ir(e.Ia,e,e.g),e.O)),Ji(e.V,e.g,"readystatechange",e.gb),t=e.H?$r(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),as(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ns(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function As(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=xs(e,n),r==Ts){4==t&&(e.o=4,ls(14),i=!1),ts(e.j,e.m,null,"[Incomplete Response]");break}if(r==_s){e.o=4,ls(15),ts(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ts(e.j,e.m,r,null),Ms(e,r)}Ns(e)&&r!=Ts&&r!=_s&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ls(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),eo(t),t.L=!0,ls(11))):(ts(e.j,e.m,n,"[Invalid Chunked Response]"),Os(e),Ls(e))}function xs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ts:(n=Number(t.substring(n,r)),isNaN(n)?_s:(r+=1)+n>t.length?Ts:(t=t.substr(r,n),e.C=r+n,t))}function Rs(e){e.Y=Date.now()+e.P,Ds(e,e.P)}function Ds(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=cs(Ir(e.eb,e),t)}function Ps(e){e.B&&(vr.clearTimeout(e.B),e.B=null)}function Ls(e){0==e.l.G||e.I||ro(e.l,e)}function Os(e){Ps(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ki(e.W),Zi(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ms(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pa(n.i,e)))if(n.I=e.N,!e.J&&pa(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;no(n),qa(n)}Za(n),ls(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=cs(Ir(n.ab,n),6e3));if(1>=fa(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else so(n,11)}else if((e.J||n.g==e)&&no(n),!Or(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Ur(e,"spdy")||Ur(e,"quic")||Ur(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ma(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Gs(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var a=e;if((r=n).oa=oo(r,r.H?r.la:null,r.W),a.J){ga(r.i,a);var o=a,l=r.K;l&&o.setTimeout(l),o.B&&(Ps(o),Rs(o)),r.g=a}else Ja(r);0<n.l.length&&Ga(n)}else"stop"!=u[0]&&"close"!=u[0]||so(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?so(n,7):Ha(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}as(4)}catch(e){}}function Fs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(br(e)||"string"==typeof e)Dr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(br(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(br(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Us(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Us)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Vs(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];zs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)zs(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function zs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(pr=Es.prototype).setTimeout=function(e){this.P=e},pr.gb=function(e){e=e.target;const t=this.L;t&&3==Va(e)?t.l():this.Ia(e)},pr.Ia=function(e){try{if(e==this.g)e:{const c=Va(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Jr||this.g&&(this.h.h||this.g.ga()||za(this.g)))){this.I||4!=c||7==t||as(8==t||0>=h?3:2),Ps(this);var n=this.g.ba();this.N=n;t:if(Ns(this)){var r=za(this.g);e="";var i=r.length,s=4==Va(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Os(this),Ls(this);var a="";break t}this.h.i=new vr.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Or(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,ls(12),Os(this),Ls(this);break e}ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ms(this,n)}this.U?(As(this,c,a),Jr&&this.i&&3==c&&(Ji(this.V,this.W,"tick",this.fb),this.W.start())):(ts(this.j,this.m,a,null),Ms(this,a)),4==c&&Os(this),this.i&&!this.I&&(4==c?ro(this.l,this):(this.i=!1,Rs(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,ls(12)):(this.o=0,ls(13)),Os(this),Ls(this)}}}catch(e){}},pr.fb=function(){if(this.g){var e=Va(this.g),t=this.g.ga();this.C<t.length&&(Ps(this),As(this,e,t),this.i&&4!=e&&Rs(this))}},pr.cancel=function(){this.I=!0,Os(this)},pr.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(as(3),ls(17)),Os(this),this.o=2,Ls(this)):Ds(this,this.Y-e)},(pr=Us.prototype).R=function(){Vs(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},pr.T=function(){return Vs(this),this.g.concat()},pr.get=function(e,t){return zs(this.h,e)?this.h[e]:t},pr.set=function(e,t){zs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},pr.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var js=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Bs){this.g=void 0!==t?t:e.g,Hs(this,e.j),this.s=e.s,qs(this,e.i),Ks(this,e.m),this.l=e.l,t=e.h;var n=new ia;n.i=t.i,t.g&&(n.g=new Us(t.g),n.h=t.h),Ws(this,n),this.o=e.o}else e&&(n=String(e).match(js))?(this.g=!!t,Hs(this,n[1]||"",!0),this.s=Xs(n[2]||""),qs(this,n[3]||"",!0),Ks(this,n[4]),this.l=Xs(n[5]||"",!0),Ws(this,n[6]||"",!0),this.o=Xs(n[7]||"")):(this.g=!!t,this.h=new ia(null,this.g))}function $s(e){return new Bs(e)}function Hs(e,t,n){e.j=n?Xs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qs(e,t,n){e.i=n?Xs(t,!0):t}function Ks(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ws(e,t,n){t instanceof ia?(e.h=t,function(e,t){t&&!e.j&&(sa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(aa(this,t),la(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ys(t,na)),e.h=new ia(t,e.g))}function Gs(e,t,n){e.h.set(t,n)}function Qs(e){return Gs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ys(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Js),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Js(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ys(t,Zs,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ys(t,Zs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ys(n,"/"==n.charAt(0)?ta:ea,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ys(n,ra)),e.join("")};var Zs=/[#\/\?@]/g,ea=/[#\?:]/g,ta=/[#\?]/g,na=/[#\?@]/g,ra=/#/g;function ia(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sa(e){e.g||(e.g=new Us,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function aa(e,t){sa(e),t=ua(e,t),zs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,zs((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Vs(e)))}function oa(e,t){return sa(e),t=ua(e,t),zs(e.g.h,t)}function la(e,t,n){aa(e,t),0<n.length&&(e.i=null,e.g.set(ua(e,t),Lr(n)),e.h+=n.length)}function ua(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ca(e){this.l=e||ha,e=vr.PerformanceNavigationTiming?0<(e=vr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(vr.g&&vr.g.Ea&&vr.g.Ea()&&vr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pr=ia.prototype).add=function(e,t){sa(this),this.i=null,e=ua(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pr.forEach=function(e,t){sa(this),this.g.forEach((function(n,r){Dr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},pr.T=function(){sa(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},pr.R=function(e){sa(this);var t=[];if("string"==typeof e)oa(this,e)&&(t=Pr(t,this.g.get(ua(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Pr(t,e[n])}return t},pr.set=function(e,t){return sa(this),this.i=null,oa(this,e=ua(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pr.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},pr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};var ha=10;function da(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fa(e){return e.h?1:e.g?e.g.size:0}function pa(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ma(e,t){e.g?e.g.add(t):e.h=t}function ga(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ya(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Lr(e.i)}function va(){}function wa(){this.g=new va}function ba(e,t,n){const r=n||"";try{Fs(e,(function(e,n){let i=e;Er(e)&&(i=Oi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ea(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function ka(e){this.l=e.$b||null,this.j=e.ib||!1}function Sa(e,t){Di.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ca.prototype.cancel=function(){if(this.i=ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},va.prototype.stringify=function(e){return vr.JSON.stringify(e,void 0)},va.prototype.parse=function(e){return vr.JSON.parse(e,void 0)},Nr(ka,fs),ka.prototype.g=function(){return new Sa(this.l,this.j)},ka.prototype.i=function(e){return function(){return e}}({}),Nr(Sa,Di);var _a=0;function Ta(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ia(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ca(e)}function Ca(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pr=Sa.prototype).open=function(e,t){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ca(this)},pr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},pr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ia(this)),this.readyState=_a},pr.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ta(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},pr.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ia(this):Ca(this),3==this.readyState&&Ta(this)}},pr.Ua=function(e){this.g&&(this.response=this.responseText=e,Ia(this))},pr.Ta=function(e){this.g&&(this.response=e,Ia(this))},pr.ha=function(){this.g&&Ia(this)},pr.setRequestHeader=function(e,t){this.v.append(e,t)},pr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Na=vr.JSON.parse;function Aa(e){Di.call(this),this.headers=new Us,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xa,this.K=this.L=!1}Nr(Aa,Di);var xa="",Ra=/^https?$/i,Da=["POST","PUT"];function Pa(e){return"content-type"==e.toLowerCase()}function La(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Oa(e),Fa(e)}function Oa(e){e.D||(e.D=!0,Pi(e,"complete"),Pi(e,"error"))}function Ma(e){if(e.h&&void 0!==yr&&(!e.C[1]||4!=Va(e)||2!=e.ba()))if(e.v&&4==Va(e))Wi(e.Fa,0,e);else if(Pi(e,"readystatechange"),4==Va(e)){e.h=!1;try{const o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.H).match(js)[1]||null;if(!i&&vr.self&&vr.self.location){var s=vr.self.location.protocol;i=s.substr(0,s.length-1)}r=!Ra.test(i?i.toLowerCase():"")}n=r}if(n)Pi(e,"complete"),Pi(e,"success");else{e.m=6;try{var a=2<Va(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",Oa(e)}}finally{Fa(e)}}}function Fa(e,t){if(e.g){Ua(e);const n=e.g,r=e.C[0]?wr:null;e.g=null,e.C=null,t||Pi(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Ua(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vr.clearTimeout(e.A),e.A=null)}function Va(e){return e.g?e.g.readyState:0}function za(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ja(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Br(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Gs(e,t,n))}function Ba(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $a(e){this.za=0,this.l=[],this.h=new es,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ba("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ba("baseRetryDelayMs",5e3,e),this.$a=Ba("retryDelaySeedMs",1e4,e),this.Ya=Ba("forwardChannelMaxRetries",2,e),this.ra=Ba("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ca(e&&e.concurrentRequestLimit),this.Ca=new wa,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ha(e){if(Ka(e),3==e.G){var t=e.V++,n=$s(e.F);Gs(n,"SID",e.J),Gs(n,"RID",t),Gs(n,"TYPE","terminate"),Xa(e,n),(t=new Es(e,e.h,t,void 0)).K=2,t.v=Qs($s(n)),n=!1,vr.navigator&&vr.navigator.sendBeacon&&(n=vr.navigator.sendBeacon(t.v.toString(),"")),!n&&vr.Image&&((new Image).src=t.v,n=!0),n||(t.g=lo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Rs(t)}ao(e)}function qa(e){e.g&&(eo(e),e.g.cancel(),e.g=null)}function Ka(e){qa(e),e.u&&(vr.clearTimeout(e.u),e.u=null),no(e),e.i.cancel(),e.m&&("number"==typeof e.m&&vr.clearTimeout(e.m),e.m=null)}function Wa(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Ga(e)}function Ga(e){da(e.i)||e.m||(e.m=!0,ji(e.Ha,e),e.C=0)}function Qa(e,t){var n;n=t?t.m:e.V++;const r=$s(e.F);Gs(r,"SID",e.J),Gs(r,"RID",n),Gs(r,"AID",e.U),Xa(e,r),e.o&&e.s&&ja(r,e.o,e.s),n=new Es(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ya(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ma(e.i,n),Is(n,r,t)}function Xa(e,t){e.j&&Fs({},(function(e,n){Gs(t,n,e)}))}function Ya(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ir(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].h;const o=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),s=!1;else try{ba(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Ja(e){e.g||e.u||(e.Y=1,ji(e.Ga,e),e.A=0)}function Za(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=cs(Ir(e.Ga,e),io(e,e.A)),e.A++,0))}function eo(e){null!=e.B&&(vr.clearTimeout(e.B),e.B=null)}function to(e){e.g=new Es(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=$s(e.oa);Gs(t,"RID","rpc"),Gs(t,"SID",e.J),Gs(t,"CI",e.N?"0":"1"),Gs(t,"AID",e.U),Xa(e,t),Gs(t,"TYPE","xmlhttp"),e.o&&e.s&&ja(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Qs($s(t)),n.s=null,n.U=!0,Cs(n,e)}function no(e){null!=e.v&&(vr.clearTimeout(e.v),e.v=null)}function ro(e,t){var n=null;if(e.g==t){no(e),eo(e),e.g=null;var r=2}else{if(!pa(e.i,t))return;n=t.D,ga(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Pi(r=is(),new us(r,n,t,i)),Ga(e)}else Ja(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fa(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=cs(Ir(e.Ha,e,t),io(e,e.C)),e.C++,0)))}(e,t)||2==r&&Za(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:so(e,5);break;case 4:so(e,10);break;case 3:so(e,6);break;default:so(e,2)}}function io(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function so(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ir(e.jb,e);n||(n=new Bs("//www.google.com/images/cleardot.gif"),vr.location&&"http"==vr.location.protocol||Hs(n,"https"),Qs(n)),function(e,t){const n=new es;if(vr.Image){const r=new Image;r.onload=Cr(Ea,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cr(Ea,n,r,"TestLoadImage: error",!1,t),r.onabort=Cr(Ea,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cr(Ea,n,r,"TestLoadImage: timeout",!1,t),vr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ls(2);e.G=0,e.j&&e.j.va(t),ao(e),Ka(e)}function ao(e){e.G=0,e.I=-1,e.j&&(0==ya(e.i).length&&0==e.l.length||(e.i.i.length=0,Lr(e.l),e.l.length=0),e.j.ua())}function oo(e,t,n){let r=function(e){return e instanceof Bs?$s(e):new Bs(e,void 0)}(n);if(""!=r.i)t&&qs(r,t+"."+r.i),Ks(r,r.m);else{const e=vr.location;r=function(e,t,n,r){var i=new Bs(null,void 0);return e&&Hs(i,e),t&&qs(i,t),n&&Ks(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Br(e.aa,(function(e,t){Gs(r,t,e)})),t=e.D,n=e.sa,t&&n&&Gs(r,t,n),Gs(r,"VER",e.ma),Xa(e,r),r}function lo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Aa(new ka({ib:!0})):new Aa(e.qa)).L=e.H,t}function uo(){}function co(){if(Xr&&!(10<=Number(li)))throw Error("Environmental error: no available transport.")}function ho(e,t){Di.call(this),this.g=new $a(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Or(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Or(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new mo(this)}function fo(e){vs.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function po(){ws.call(this),this.status=1}function mo(e){this.g=e}(pr=Aa.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gs.g(),this.C=this.u?ps(this.u):ps(gs),this.g.onreadystatechange=Ir(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void La(this,e)}e=n||"";const i=new Us(this.headers);r&&Fs(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Pa;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=vr.FormData&&e instanceof vr.FormData,!(0<=Rr(Da,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ua(this),0<this.B&&((this.K=function(e){return Xr&&oi()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.pa,this)):this.A=Wi(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){La(this,e)}},pr.pa=function(){void 0!==yr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},pr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pi(this,"complete"),Pi(this,"abort"),Fa(this))},pr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fa(this,!0)),Aa.Z.M.call(this)},pr.Fa=function(){this.s||(this.F||this.v||this.l?Ma(this):this.cb())},pr.cb=function(){Ma(this)},pr.ba=function(){try{return 2<Va(this)?this.g.status:-1}catch(e){return-1}},pr.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},pr.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Na(t)}},pr.Da=function(){return this.m},pr.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(pr=$a.prototype).ma=8,pr.G=1,pr.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},pr.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Es(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=$r(s),qr(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ya(this,i,t),Gs(n=$s(this.F),"RID",e),Gs(n,"CVER",22),this.D&&Gs(n,"X-HTTP-Session-Id",this.D),Xa(this,n),this.o&&s&&ja(n,this.o,s),ma(this.i,i),this.Ra&&Gs(n,"TYPE","init"),this.ja?(Gs(n,"$req",t),Gs(n,"SID","null"),i.$=!0,Is(i,n,null)):Is(i,n,t),this.G=2}}else 3==this.G&&(e?Qa(this,e):0==this.l.length||da(this.i)||Qa(this))},pr.Ga=function(){if(this.u=null,to(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cs(Ir(this.bb,this),e)}},pr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ls(10),qa(this),to(this))},pr.ab=function(){null!=this.v&&(this.v=null,qa(this),Za(this),ls(19))},pr.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ls(2)):(this.h.info("Failed to ping google.com"),ls(1))},(pr=uo.prototype).xa=function(){},pr.wa=function(){},pr.va=function(){},pr.ua=function(){},pr.Oa=function(){},co.prototype.g=function(e,t){return new ho(e,t)},Nr(ho,Di),ho.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ji(Ir(e.hb,e,t))),ls(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=oo(e,null,e.W),Ga(e)},ho.prototype.close=function(){Ha(this.g)},ho.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Wa(this.g,t)}else this.v?((t={}).__data__=Oi(e),Wa(this.g,t)):Wa(this.g,e)},ho.prototype.M=function(){this.g.j=null,delete this.j,Ha(this.g),delete this.g,ho.Z.M.call(this)},Nr(fo,vs),Nr(po,ws),Nr(mo,uo),mo.prototype.xa=function(){Pi(this.g,"a")},mo.prototype.wa=function(e){Pi(this.g,new fo(e))},mo.prototype.va=function(e){Pi(this.g,new po(e))},mo.prototype.ua=function(){Pi(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,ho.prototype.send=ho.prototype.u,ho.prototype.open=ho.prototype.m,ho.prototype.close=ho.prototype.close,hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,ds.COMPLETE="complete",ms.EventType=ys,ys.OPEN="a",ys.CLOSE="b",ys.ERROR="c",ys.MESSAGE="d",Di.prototype.listen=Di.prototype.N,Aa.prototype.listenOnce=Aa.prototype.O,Aa.prototype.getLastError=Aa.prototype.La,Aa.prototype.getLastErrorCode=Aa.prototype.Da,Aa.prototype.getStatus=Aa.prototype.ba,Aa.prototype.getResponseJson=Aa.prototype.Qa,Aa.prototype.getResponseText=Aa.prototype.ga,Aa.prototype.send=Aa.prototype.ea;var go=gr.createWebChannelTransport=function(){return new co},yo=gr.getStatEventTarget=function(){return is()},vo=gr.ErrorCode=hs,wo=gr.EventType=ds,bo=gr.Event=ns,Eo=gr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ko=gr.FetchXmlHttpFactory=ka,So=gr.WebChannel=ms,_o=gr.XhrIo=Aa;const To="@firebase/firestore";class Io{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Io.UNAUTHENTICATED=new Io(null),Io.GOOGLE_CREDENTIALS=new Io("google-credentials-uid"),Io.FIRST_PARTY=new Io("first-party-uid"),Io.MOCK_USER=new Io("mock-user");let Co="9.6.11";const No=new we("@firebase/firestore");function Ao(){return No.logLevel}function xo(e,...t){if(No.logLevel<=fe.DEBUG){const n=t.map(Po);No.debug(`Firestore (${Co}): ${e}`,...n)}}function Ro(e,...t){if(No.logLevel<=fe.ERROR){const n=t.map(Po);No.error(`Firestore (${Co}): ${e}`,...n)}}function Do(e,...t){if(No.logLevel<=fe.WARN){const n=t.map(Po);No.warn(`Firestore (${Co}): ${e}`,...n)}}function Po(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Lo(e="Unexpected state"){const t=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+e;throw Ro(t),new Error(t)}function Oo(e,t){e||Lo()}function Mo(e,t){return e}const Fo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Uo extends K{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class zo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Io.UNAUTHENTICATED)))}shutdown(){}}class Bo{constructor(e){this.t=e,this.currentUser=Io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vo,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{xo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(xo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vo)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(xo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Oo("string"==typeof t.accessToken),new zo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oo(null===e||"string"==typeof e),new Io(e)}}class $o{constructor(e,t,n){this.type="FirstParty",this.user=Io.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Ho{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new $o(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Io.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ko{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&xo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,xo("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{xo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):xo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Oo("string"==typeof e.token),this.p=e.token,new qo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Wo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Go(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Wo.A=-1;class Qo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Go(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Xo(e,t){return e<t?-1:e>t?1:0}function Yo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Jo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jo.fromMillis(Date.now())}static fromDate(e){return Jo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Jo(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xo(this.nanoseconds,e.nanoseconds):Xo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zo(e)}static min(){return new Zo(new Jo(0,0))}static max(){return new Zo(new Jo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function el(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class rl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Lo(),void 0===n?n=e.length-t:n>e.length-t&&Lo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===rl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class il extends rl{construct(e,t,n){return new il(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Uo(Fo.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new il(t)}static emptyPath(){return new il([])}}const sl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class al extends rl{construct(e,t,n){return new al(e,t,n)}static isValidIdentifier(e){return sl.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),al.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new al(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Uo(Fo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Uo(Fo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Uo(Fo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Uo(Fo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new al(t)}static emptyPath(){return new al([])}}class ol{constructor(e){this.fields=e,e.sort(al.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ll{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ll(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ll(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ll.EMPTY_BYTE_STRING=new ll("");const ul=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(e){if(Oo(!!e),"string"==typeof e){let t=0;const n=ul.exec(e);if(Oo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hl(e.seconds),nanos:hl(e.nanos)}}function hl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dl(e){return"string"==typeof e?ll.fromBase64String(e):ll.fromUint8Array(e)}function fl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pl(e){const t=e.mapValue.fields.__previous_value__;return fl(t)?pl(t):t}function ml(e){const t=cl(e.mapValue.fields.__local_write_time__.timestampValue);return new Jo(t.seconds,t.nanos)}class gl{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}function vl(e){return null==e}function wl(e){return 0===e&&1/e==-1/0}class bl{constructor(e){this.path=e}static fromPath(e){return new bl(il.fromString(e))}static fromName(e){return new bl(il.fromString(e).popFirst(5))}static empty(){return new bl(il.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===il.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return il.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bl(new il(e.slice()))}}function El(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fl(e)?4:Ll(e)?9:10:Lo()}function kl(e,t){if(e===t)return!0;const n=El(e);if(n!==El(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ml(e).isEqual(ml(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=cl(e.timestampValue),r=cl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dl(e.bytesValue).isEqual(dl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hl(e.geoPointValue.latitude)===hl(t.geoPointValue.latitude)&&hl(e.geoPointValue.longitude)===hl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hl(e.integerValue)===hl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=hl(e.doubleValue),r=hl(t.doubleValue);return n===r?wl(n)===wl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yo(e.arrayValue.values||[],t.arrayValue.values||[],kl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(el(n)!==el(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!kl(n[e],r[e])))return!1;return!0}(e,t);default:return Lo()}}function Sl(e,t){return void 0!==(e.values||[]).find((e=>kl(e,t)))}function _l(e,t){if(e===t)return 0;const n=El(e),r=El(t);if(n!==r)return Xo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=hl(e.integerValue||e.doubleValue),r=hl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tl(e.timestampValue,t.timestampValue);case 4:return Tl(ml(e),ml(t));case 5:return Xo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=dl(e),r=dl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Xo(n[e],r[e]);if(0!==t)return t}return Xo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Xo(hl(e.latitude),hl(t.latitude));return 0!==n?n:Xo(hl(e.longitude),hl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=_l(n[e],r[e]);if(t)return t}return Xo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=Xo(r[e],s[e]);if(0!==t)return t;const a=_l(n[r[e]],i[s[e]]);if(0!==a)return a}return Xo(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Lo()}}function Tl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xo(e,t);const n=cl(e),r=cl(t),i=Xo(n.seconds,r.seconds);return 0!==i?i:Xo(n.nanos,r.nanos)}function Il(e){return Cl(e)}function Cl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=cl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bl.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Cl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Cl(e.fields[i])}`;return n+"}"}(e.mapValue):Lo();var t,n}function Nl(e){return!!e&&"integerValue"in e}function Al(e){return!!e&&"arrayValue"in e}function xl(e){return!!e&&"nullValue"in e}function Rl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dl(e){return!!e&&"mapValue"in e}function Pl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Pl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ll(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ol{constructor(e){this.value=e}static empty(){return new Ol({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Dl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=al.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Pl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Dl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Dl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){tl(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Ol(Pl(this.value))}}function Ml(e){const t=[];return tl(e.fields,((e,n)=>{const r=new al([e]);if(Dl(n)){const e=Ml(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ol(t)}class Fl{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Fl(e,0,Zo.min(),Zo.min(),Ol.empty(),0)}static newFoundDocument(e,t,n){return new Fl(e,1,t,Zo.min(),n,0)}static newNoDocument(e,t){return new Fl(e,2,t,Zo.min(),Ol.empty(),0)}static newUnknownDocument(e,t){return new Fl(e,3,t,Zo.min(),Ol.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ol.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ol.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fl(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function Ul(e){return new Vl(e.readTime,e.key,-1)}class Vl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vl(Zo.min(),bl.empty(),-1)}static max(){return new Vl(Zo.max(),bl.empty(),-1)}}function zl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=bl.comparator(e.documentKey,t.documentKey),0!==n?n:Xo(e.largestBatchId,t.largestBatchId))}class jl{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.P=null}}function Bl(e,t=null,n=[],r=[],i=null,s=null,a=null){return new jl(e,t,n,r,i,s,a)}function $l(e){const t=Mo(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+Il(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),vl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Il(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Il(e))).join(",")),t.P=e}return t.P}function Hl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ru(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!kl(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!su(e.startAt,t.startAt)&&su(e.endAt,t.endAt)}function ql(e){return bl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Kl extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new Wl(e,t,n):"array-contains"===t?new Yl(e,n):"in"===t?new Jl(e,n):"not-in"===t?new Zl(e,n):"array-contains-any"===t?new eu(e,n):new Kl(e,t,n)}static V(e,t,n){return"in"===t?new Gl(e,n):new Ql(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(_l(t,this.value)):null!==t&&El(this.value)===El(t)&&this.v(_l(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lo()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wl extends Kl{constructor(e,t,n){super(e,t,n),this.key=bl.fromName(n.referenceValue)}matches(e){const t=bl.comparator(e.key,this.key);return this.v(t)}}class Gl extends Kl{constructor(e,t){super(e,"in",t),this.keys=Xl(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ql extends Kl{constructor(e,t){super(e,"not-in",t),this.keys=Xl(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Xl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>bl.fromName(e.referenceValue)))}class Yl extends Kl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Al(t)&&Sl(t.arrayValue,this.value)}}class Jl extends Kl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sl(this.value.arrayValue,t)}}class Zl extends Kl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sl(this.value.arrayValue,t)}}class eu extends Kl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Al(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Sl(this.value.arrayValue,e)))}}class tu{constructor(e,t){this.position=e,this.inclusive=t}}class nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ru(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function iu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?bl.comparator(bl.fromName(a.referenceValue),n.key):_l(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function su(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kl(e.position[n],t.position[n]))return!1;return!0}class au{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.D=null,this.C=null,this.startAt,this.endAt}}function ou(e){return new au(e)}function lu(e){return!vl(e.limit)&&"F"===e.limitType}function uu(e){return!vl(e.limit)&&"L"===e.limitType}function cu(e){const t=Mo(e);if(null===t.D){t.D=[];const e=function(e){for(const t of e.filters)if(t.S())return t.field;return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new nu(e)),t.D.push(new nu(al.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new nu(al.keyField(),e))}}}return t.D}function hu(e){const t=Mo(e);if(!t.C)if("F"===t.limitType)t.C=Bl(t.path,t.collectionGroup,cu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of cu(t)){const t="desc"===n.dir?"asc":"desc";e.push(new nu(n.field,t))}const n=t.endAt?new tu(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new tu(t.startAt.position,!t.startAt.inclusive):null;t.C=Bl(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function du(e,t){return Hl(hu(e),hu(t))&&e.limitType===t.limitType}function fu(e){return`${$l(hu(e))}|lt:${e.limitType}`}function pu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Il(t.value)}`;var t})).join(", ")}]`),vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Il(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Il(e))).join(",")),`Target(${t})`}(hu(e))}; limitType=${e.limitType})`}function mu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=iu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cu(e),t)||e.endAt&&!function(e,t,n){const r=iu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cu(e),t))}(e,t)}function gu(e){return(t,n)=>{let r=!1;for(const i of cu(e)){const e=yu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function yu(e,t,n){const r=e.field.isKeyField()?bl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_l(r,i):Lo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lo()}}function vu(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(t)?"-0":t}}function wu(e){return{integerValue:""+e}}function bu(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!wl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?wu(t):vu(e,t)}class Eu{constructor(){this._=void 0}}function ku(e,t,n){return e instanceof Tu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Iu?Cu(e,t):e instanceof Nu?Au(e,t):function(e,t){const n=_u(e,t),r=Ru(n)+Ru(e.k);return Nl(n)&&Nl(e.k)?wu(r):vu(e.M,r)}(e,t)}function Su(e,t,n){return e instanceof Iu?Cu(e,t):e instanceof Nu?Au(e,t):n}function _u(e,t){return e instanceof xu?Nl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Tu extends Eu{}class Iu extends Eu{constructor(e){super(),this.elements=e}}function Cu(e,t){const n=Du(t);for(const t of e.elements)n.some((e=>kl(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Nu extends Eu{constructor(e){super(),this.elements=e}}function Au(e,t){let n=Du(t);for(const t of e.elements)n=n.filter((e=>!kl(e,t)));return{arrayValue:{values:n}}}class xu extends Eu{constructor(e,t){super(),this.M=e,this.k=t}}function Ru(e){return hl(e.integerValue||e.doubleValue)}function Du(e){return Al(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Pu{constructor(e,t){this.version=e,this.transformResults=t}}class Lu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lu}static exists(e){return new Lu(void 0,e)}static updateTime(e){return new Lu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Mu{}function Fu(e,t,n){e instanceof Bu?function(e,t,n){const r=e.value.clone(),i=qu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $u?function(e,t,n){if(!Ou(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Uu(e,t,n){e instanceof Bu?function(e,t,n){if(!Ou(e.precondition,t))return;const r=e.value.clone(),i=Ku(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ju(t),r).setHasLocalMutations()}(e,t,n):e instanceof $u?function(e,t,n){if(!Ou(e.precondition,t))return;const r=Ku(e.fieldTransforms,n,t),i=t.data;i.setAll(Hu(e)),i.setAll(r),t.convertToFoundDocument(ju(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Ou(e.precondition,t)&&t.convertToNoDocument(Zo.min())}(e,t)}function Vu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_u(r.transform,e||null);null!=i&&(null==n&&(n=Ol.empty()),n.set(r.field,i))}return n||null}function zu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Iu&&t instanceof Iu||e instanceof Nu&&t instanceof Nu?Yo(e.elements,t.elements,kl):e instanceof xu&&t instanceof xu?kl(e.k,t.k):e instanceof Tu&&t instanceof Tu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ju(e){return e.isFoundDocument()?e.version:Zo.min()}class Bu extends Mu{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class $u extends Mu{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Hu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function qu(e,t,n){const r=new Map;Oo(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Su(a,o,n[i]))}return r}function Ku(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ku(e,s,t))}return r}class Wu extends Mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Gu extends Mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Qu{constructor(e){this.count=e}}var Xu,Yu;function Ju(e){if(void 0===e)return Ro("GRPC error has no .code"),Fo.UNKNOWN;switch(e){case Xu.OK:return Fo.OK;case Xu.CANCELLED:return Fo.CANCELLED;case Xu.UNKNOWN:return Fo.UNKNOWN;case Xu.DEADLINE_EXCEEDED:return Fo.DEADLINE_EXCEEDED;case Xu.RESOURCE_EXHAUSTED:return Fo.RESOURCE_EXHAUSTED;case Xu.INTERNAL:return Fo.INTERNAL;case Xu.UNAVAILABLE:return Fo.UNAVAILABLE;case Xu.UNAUTHENTICATED:return Fo.UNAUTHENTICATED;case Xu.INVALID_ARGUMENT:return Fo.INVALID_ARGUMENT;case Xu.NOT_FOUND:return Fo.NOT_FOUND;case Xu.ALREADY_EXISTS:return Fo.ALREADY_EXISTS;case Xu.PERMISSION_DENIED:return Fo.PERMISSION_DENIED;case Xu.FAILED_PRECONDITION:return Fo.FAILED_PRECONDITION;case Xu.ABORTED:return Fo.ABORTED;case Xu.OUT_OF_RANGE:return Fo.OUT_OF_RANGE;case Xu.UNIMPLEMENTED:return Fo.UNIMPLEMENTED;case Xu.DATA_LOSS:return Fo.DATA_LOSS;default:return Lo()}}(Yu=Xu||(Xu={}))[Yu.OK=0]="OK",Yu[Yu.CANCELLED=1]="CANCELLED",Yu[Yu.UNKNOWN=2]="UNKNOWN",Yu[Yu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yu[Yu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yu[Yu.NOT_FOUND=5]="NOT_FOUND",Yu[Yu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yu[Yu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yu[Yu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yu[Yu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yu[Yu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yu[Yu.ABORTED=10]="ABORTED",Yu[Yu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yu[Yu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yu[Yu.INTERNAL=13]="INTERNAL",Yu[Yu.UNAVAILABLE=14]="UNAVAILABLE",Yu[Yu.DATA_LOSS=15]="DATA_LOSS";class Zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tl(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return nl(this.inner)}size(){return this.innerSize}}class ec{constructor(e,t){this.comparator=e,this.root=t||nc.EMPTY}insert(e,t){return new ec(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nc.BLACK,null,null))}remove(e){return new ec(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:nc.RED,this.left=null!=r?r:nc.EMPTY,this.right=null!=i?i:nc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new nc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lo();if(this.right.isRed())throw Lo();const e=this.left.check();if(e!==this.right.check())throw Lo();return e+(this.isRed()?0:1)}}nc.EMPTY=null,nc.RED=!0,nc.BLACK=!1,nc.EMPTY=new class{constructor(){this.size=0}get key(){throw Lo()}get value(){throw Lo()}get color(){throw Lo()}get left(){throw Lo()}get right(){throw Lo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new nc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rc{constructor(e){this.comparator=e,this.data=new ec(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ic(this.data.getIterator())}getIteratorFrom(e){return new ic(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof rc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new rc(this.comparator);return t.data=e,t}}class ic{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const sc=new ec(bl.comparator);function ac(){return sc}const oc=new ec(bl.comparator);function lc(){return oc}function uc(){return new Zu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cc=new ec(bl.comparator),hc=new rc(bl.comparator);function dc(...e){let t=hc;for(const n of e)t=t.add(n);return t}const fc=new rc(Xo);function pc(){return fc}class mc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,t)),new mc(Zo.min(),n,pc(),ac(),dc())}}class gc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new gc(ll.EMPTY_BYTE_STRING,t,dc(),dc(),dc())}}class yc{constructor(e,t,n,r){this.O=e,this.removedTargetIds=t,this.key=n,this.F=r}}class vc{constructor(e,t){this.targetId=e,this.$=t}}class wc{constructor(e,t,n=ll.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class bc{constructor(){this.B=0,this.L=Sc(),this.U=ll.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=dc(),t=dc(),n=dc();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lo()}})),new gc(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=Sc()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Ec{constructor(e){this.nt=e,this.st=new Map,this.it=ac(),this.rt=kc(),this.ot=new rc(Xo)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,(t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:Lo()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(((e,n)=>{this.ft(n)&&t(n)}))}_t(e){const t=e.targetId,n=e.$.count,r=this.wt(t);if(r){const e=r.target;if(ql(e))if(0===n){const n=new bl(e.path);this.ct(t,n,Fl.newNoDocument(n,Zo.min()))}else Oo(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&ql(i.target)){const t=new bl(i.target.path);null!==this.it.get(t)||this.It(r,t)||this.ct(r,t,Fl.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}}));let n=dc();this.rt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.it.forEach(((t,n)=>n.setReadTime(e)));const r=new mc(e,t,this.ot,this.it,n);return this.it=ac(),this.rt=kc(),this.ot=new rc(Xo),r}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new bc,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new rc(Xo),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||xo("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new bc),this.nt.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function kc(){return new ec(bl.comparator)}function Sc(){return new ec(bl.comparator)}const _c={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ic{constructor(e,t){this.databaseId=e,this.N=t}}function Cc(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nc(e,t){return e.N?t.toBase64():t.toUint8Array()}function Ac(e,t){return Cc(e,t.toTimestamp())}function xc(e){return Oo(!!e),Zo.fromTimestamp(function(e){const t=cl(e);return new Jo(t.seconds,t.nanos)}(e))}function Rc(e,t){return function(e){return new il(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dc(e){const t=il.fromString(e);return Oo(Xc(t)),t}function Pc(e,t){return Rc(e.databaseId,t.path)}function Lc(e,t){const n=Dc(t);if(n.get(1)!==e.databaseId.projectId)throw new Uo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bl(Fc(n))}function Oc(e,t){return Rc(e.databaseId,t)}function Mc(e){return new il(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fc(e){return Oo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Uc(e,t,n){return{name:Pc(e,t),fields:n.value.mapValue.fields}}function Vc(e,t){return{documents:[Oc(e,t.path)]}}function zc(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Oc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Oc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Rl(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NAN"}};if(xl(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rl(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NAN"}};if(xl(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(e.field),op:Hc(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:qc(e.field),direction:$c(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.N||vl(t)?t:{value:t}}(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function jc(e){let t=function(e){const t=Dc(e);return 4===t.length?il.emptyPath():Fc(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Bc(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new nu(Kc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,vl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new tu(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new tu(n,t)}(n.endAt)),function(e,t,n,r,i,s,a,o){return new au(e,t,n,r,i,s,a,o)}(t,i,a,s,o,"F",l,u)}function Bc(e){return e?void 0!==e.unaryFilter?[Gc(e)]:void 0!==e.fieldFilter?[Wc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Bc(e))).reduce(((e,t)=>e.concat(t))):Lo():[]}function $c(e){return _c[e]}function Hc(e){return Tc[e]}function qc(e){return{fieldPath:e.canonicalString()}}function Kc(e){return al.fromServerFormat(e.fieldPath)}function Wc(e){return Kl.create(Kc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Gc(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kc(e.unaryFilter.field);return Kl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kc(e.unaryFilter.field);return Kl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kc(e.unaryFilter.field);return Kl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Kc(e.unaryFilter.field);return Kl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lo()}}function Qc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Xc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Yc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Lo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Yc?t:Yc.resolve(t)}catch(e){return Yc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Yc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Yc.reject(t)}static resolve(e){return new Yc(((t,n)=>{t(e)}))}static reject(e){return new Yc(((t,n)=>{n(e)}))}static waitFor(e){return new Yc(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Yc.resolve(!1);for(const n of e)t=t.next((e=>e?Yc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function Jc(e){return"IndexedDbTransactionError"===e.name}class Zc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Fu(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Uu(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Uu(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Zo.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),dc())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((e,t)=>zu(e,t)))&&Yo(this.baseMutations,e.baseMutations,((e,t)=>zu(e,t)))}}class eh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Oo(e.mutations.length===n.length);let r=cc;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new eh(e,t,n,r)}}class th{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nh{constructor(e,t,n,r,i=Zo.min(),s=Zo.min(),a=ll.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class rh{constructor(e){this.Jt=e}}function ih(e){const t=jc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new au(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}class sh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(hl(e.integerValue));else if("doubleValue"in e){const n=hl(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),wl(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(dl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?Ll(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Lo()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const e of Object.keys(n))this.re(e,t),this.te(n[e],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const e of n)this.te(e,t)}ae(e,t){this.ne(t,37),bl.fromName(e).path.forEach((e=>{this.ne(t,60),this.le(e,t)}))}ne(e,t){e.se(t)}oe(e){e.se(2)}}sh.fe=new sh;class ah{constructor(){this.qe=new oh}addToCollectionParentIndex(e,t){return this.qe.add(t),Yc.resolve()}getCollectionParents(e,t){return Yc.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Yc.resolve()}deleteFieldIndex(e,t){return Yc.resolve()}getDocumentsMatchingTarget(e,t){return Yc.resolve(null)}getFieldIndex(e,t){return Yc.resolve(null)}getFieldIndexes(e,t){return Yc.resolve([])}getNextCollectionGroupToUpdate(e){return Yc.resolve(null)}updateCollectionGroup(e,t,n){return Yc.resolve()}updateIndexEntries(e,t){return Yc.resolve()}}class oh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rc(il.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new rc(il.comparator)).toArray()}}new Uint8Array(0);class lh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new lh(e,lh.DEFAULT_COLLECTION_PERCENTILE,lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}lh.DEFAULT_COLLECTION_PERCENTILE=10,lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lh.DEFAULT=new lh(41943040,lh.DEFAULT_COLLECTION_PERCENTILE,lh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lh.DISABLED=new lh(-1,0,0);class uh{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new uh(0)}static yn(){return new uh(-1)}}async function ch(e){if(e.code!==Fo.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;xo("LocalStore","Unexpectedly lost primary lease")}class hh{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Us(e,t,n)))}Us(e,t,n){return this.ds.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}qs(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}Ks(e,t){return this.ds.getEntries(e,t).next((t=>this.Gs(e,t).next((()=>t))))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.qs(t,e)))}Qs(e,t,n){return function(e){return bl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new bl(t)).next((e=>{let t=lc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Ws(e,t,n){const r=t.collectionGroup;let i=lc();return this.indexManager.getCollectionParents(e,r).next((s=>Yc.forEach(s,(s=>{const a=function(e,t){return new au(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.zs(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}zs(e,t,n){let r;return this.ds.getAllFromCollection(e,t.path,n).next((n=>(r=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t)))).next((e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Fl.newInvalidDocument(n),r=r.insert(n,i)),Uu(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}})).next((()=>(r.forEach(((e,n)=>{mu(t,n)||(r=r.remove(e))})),r)))}}class dh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=r}static Ys(e,t){let n=dc(),r=dc();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new dh(e,t.fromCache,n,r)}}class fh{Xs(e){this.Zs=e}Qs(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Zo.min())?this.ti(e,t):this.Zs.Ks(e,r).next((i=>{const s=this.ei(t,i);return(lu(t)||uu(t))&&this.ni(t.limitType,s,r,n)?this.ti(e,t):(Ao()<=fe.DEBUG&&xo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pu(t)),this.Zs.Qs(e,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zo.fromTimestamp(1e9===r?new Jo(n+1,0):new Jo(n,r));return new Vl(i,bl.empty(),t)}(n,-1)).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}ei(e,t){let n=new rc(gu(e));return t.forEach(((t,r)=>{mu(e,r)&&(n=n.add(r))})),n}ni(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ti(e,t){return Ao()<=fe.DEBUG&&xo("QueryEngine","Using full collection scan to execute query:",pu(t)),this.Zs.Qs(e,t,Vl.min())}}class ph{constructor(e,t,n,r){this.persistence=e,this.si=t,this.M=r,this.ii=new ec(Xo),this.ri=new Zu((e=>$l(e)),Hl),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(n)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new hh(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ii)))}}async function mh(e,t){const n=Mo(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.Bs.getAllMutationBatches(e).next((i=>(r=i,n.ai(t),n.Bs.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=dc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.ci.Ks(e,a).next((e=>({hi:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function gh(e){const t=Mo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.fs.getLastRemoteSnapshotVersion(e)))}function yh(e,t){const n=Mo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t))))}async function vh(e,t,n){const r=Mo(e),i=r.ii.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Jc(e))throw e;xo("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ii=r.ii.remove(t),r.ri.delete(i.target)}function wh(e,t,n){const r=Mo(e);let i=Zo.min(),s=dc();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Mo(e),i=r.ri.get(n);return void 0!==i?Yc.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,hu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.si.Qs(e,t,n?i:Zo.min(),n?s:dc()))).next((e=>(function(e,t,n){let r=Zo.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,li:s})))))}class bh{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Yc.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:xc(n.createTime)}),Yc.resolve()}getNamedQuery(e,t){return Yc.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:ih(e.bundledQuery),readTime:xc(e.readTime)}}(t)),Yc.resolve()}}class Eh{constructor(){this.overlays=new ec(bl.comparator),this.gi=new Map}getOverlay(e,t){return Yc.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Xt(e,t,r)})),Yc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.gi.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.gi.delete(n)),Yc.resolve()}getOverlaysForCollection(e,t,n){const r=uc(),i=t.length+1,s=new bl(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Yc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ec(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=uc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=uc(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Yc.resolve(a)}Xt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);if(null!==r){const e=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new th(t,n));let i=this.gi.get(t);void 0===i&&(i=dc(),this.gi.set(t,i)),this.gi.set(t,i.add(n.key))}}class kh{constructor(){this.yi=new rc(Sh.pi),this.Ii=new rc(Sh.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const n=new Sh(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}Ei(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ai(new Sh(e,t))}Ri(e,t){e.forEach((e=>this.removeReference(e,t)))}Pi(e){const t=new bl(new il([])),n=new Sh(t,e),r=new Sh(t,e+1),i=[];return this.Ii.forEachInRange([n,r],(e=>{this.Ai(e),i.push(e.key)})),i}bi(){this.yi.forEach((e=>this.Ai(e)))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new bl(new il([])),n=new Sh(t,e),r=new Sh(t,e+1);let i=dc();return this.Ii.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Sh(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sh{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return bl.comparator(e.key,t.key)||Xo(e.vi,t.vi)}static Ti(e,t){return Xo(e.vi,t.vi)||bl.comparator(e.key,t.key)}}class _h{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new rc(Sh.pi)}checkEmpty(e){return Yc.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,r){const i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const s=new Zc(i,t,n,r);this.Bs.push(s);for(const t of r)this.Di=this.Di.add(new Sh(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Yc.resolve(s)}lookupMutationBatch(e,t){return Yc.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.xi(n),i=r<0?0:r;return Yc.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return Yc.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Yc.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sh(t,0),r=new Sh(t,Number.POSITIVE_INFINITY),i=[];return this.Di.forEachInRange([n,r],(e=>{const t=this.Ci(e.vi);i.push(t)})),Yc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rc(Xo);return t.forEach((e=>{const t=new Sh(e,0),r=new Sh(e,Number.POSITIVE_INFINITY);this.Di.forEachInRange([t,r],(e=>{n=n.add(e.vi)}))})),Yc.resolve(this.Ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;bl.isDocumentKey(i)||(i=i.child(""));const s=new Sh(new bl(i),0);let a=new rc(Xo);return this.Di.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.vi)),!0)}),s),Yc.resolve(this.Ni(a))}Ni(e){const t=[];return e.forEach((e=>{const n=this.Ci(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Oo(0===this.ki(t.batchId,"removed")),this.Bs.shift();let n=this.Di;return Yc.forEach(t.mutations,(r=>{const i=new Sh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Di=n}))}_n(e){}containsKey(e,t){const n=new Sh(t,0),r=this.Di.firstAfterOrEqual(n);return Yc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.Bs.length,Yc.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Th{constructor(e){this.Mi=e,this.docs=new ec(bl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Yc.resolve(n?n.document.mutableCopy():Fl.newInvalidDocument(t))}getEntries(e,t){let n=ac();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fl.newInvalidDocument(e))})),Yc.resolve(n)}getAllFromCollection(e,t,n){let r=ac();const i=new bl(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||zl(Ul(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Yc.resolve(r)}getAllFromCollectionGroup(e,t,n,r){Lo()}Oi(e,t){return Yc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ih(this)}getSize(e){return Yc.resolve(this.size)}}class Ih extends class{constructor(){this.changes=new Zu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Yc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(n)})),Yc.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Ch{constructor(e){this.persistence=e,this.Fi=new Zu((e=>$l(e)),Hl),this.lastRemoteSnapshotVersion=Zo.min(),this.highestTargetId=0,this.$i=0,this.Bi=new kh,this.targetCount=0,this.Li=uh.gn()}forEachTarget(e,t){return this.Fi.forEach(((e,n)=>t(n))),Yc.resolve()}getLastRemoteSnapshotVersion(e){return Yc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yc.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Yc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),Yc.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new uh(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Yc.resolve()}updateTargetData(e,t){return this.Tn(t),Yc.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Yc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fi.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Yc.waitFor(i).next((()=>r))}getTargetCount(e){return Yc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fi.get(t)||null;return Yc.resolve(n)}addMatchingKeys(e,t,n){return this.Bi.Ei(t,n),Yc.resolve()}removeMatchingKeys(e,t,n){this.Bi.Ri(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Yc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Yc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Bi.Vi(t);return Yc.resolve(n)}containsKey(e,t){return Yc.resolve(this.Bi.containsKey(t))}}class Nh{constructor(e,t){this.Ui={},this.overlays={},this.es=new Wo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Ch(this),this.indexManager=new ah,this.ds=function(e){return new Th(e)}((e=>this.referenceDelegate.qi(e))),this.M=new rh(t),this._s=new bh(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Eh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Ui[e.toKey()];return n||(n=new _h(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){xo("MemoryPersistence","Starting transaction:",e);const r=new Ah(this.es.next());return this.referenceDelegate.Ki(),n(r).next((e=>this.referenceDelegate.Gi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Qi(e,t){return Yc.or(Object.values(this.Ui).map((n=>()=>n.containsKey(e,t))))}}class Ah extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}{constructor(e){super(),this.currentSequenceNumber=e}}class xh{constructor(e){this.persistence=e,this.ji=new kh,this.Wi=null}static zi(e){return new xh(e)}get Hi(){if(this.Wi)return this.Wi;throw Lo()}addReference(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),Yc.resolve()}removeReference(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),Yc.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Yc.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach((e=>this.Hi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yc.forEach(this.Hi,(n=>{const r=bl.fromPath(n);return this.Ji(e,r).next((e=>{e||t.removeEntry(r,Zo.min())}))})).next((()=>(this.Wi=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ji(e,t).next((e=>{e?this.Hi.delete(t.toString()):this.Hi.add(t.toString())}))}qi(e){return 0}Ji(e,t){return Yc.or([()=>Yc.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}class Rh{constructor(){this.activeTargetIds=pc()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dh{constructor(){this.$r=new Rh,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,n){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Rh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ph{Lr(e){}shutdown(){}}class Lh{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){xo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){xo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Oh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Mh{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Fh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.io=t+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,n,r,i){const s=this.uo(e,t);xo("RestConnection","Sending: ",s,n);const a={};return this.ao(a,r,i),this.co(e,s,a,n).then((e=>(xo("RestConnection","Received: ",e),e)),(t=>{throw Do("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ho(e,t,n,r,i){return this.oo(e,t,n,r,i)}ao(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}uo(e,t){const n=Oh[e];return`${this.io}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise(((i,s)=>{const a=new _o;a.listenOnce(wo.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case vo.NO_ERROR:const t=a.getResponseJson();xo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vo.TIMEOUT:xo("Connection",'RPC "'+e+'" timed out'),s(new Uo(Fo.DEADLINE_EXCEEDED,"Request time out"));break;case vo.HTTP_ERROR:const n=a.getStatus();if(xo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){const e=a.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fo).indexOf(t)>=0?t:Fo.UNKNOWN}(e.status);s(new Uo(t,e.message))}else s(new Uo(Fo.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Uo(Fo.UNAVAILABLE,"Connection failed."));break;default:Lo()}}finally{xo("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}lo(e,t,n){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=go(),s=yo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new ko({})),this.ao(a.initMessageHeaders,t,n),B()||H()||j().indexOf("Electron/")>=0||q()||j().indexOf("MSAppHost/")>=0||$()||(a.httpHeadersOverwriteParam="$httpHeaders");const o=r.join("");xo("Connection","Creating WebChannel: "+o,a);const l=i.createWebChannel(o,a);let u=!1,c=!1;const h=new Mh({Wr:e=>{c?xo("Connection","Not sending because WebChannel is closed:",e):(u||(xo("Connection","Opening WebChannel transport."),l.open(),u=!0),xo("Connection","WebChannel sending:",e),l.send(e))},zr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,So.EventType.OPEN,(()=>{c||xo("Connection","WebChannel transport opened.")})),d(l,So.EventType.CLOSE,(()=>{c||(c=!0,xo("Connection","WebChannel transport closed"),h.no())})),d(l,So.EventType.ERROR,(e=>{c||(c=!0,Do("Connection","WebChannel transport errored:",e),h.no(new Uo(Fo.UNAVAILABLE,"The operation could not be completed")))})),d(l,So.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];Oo(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){xo("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Xu[e];if(void 0!==t)return Ju(t)}(e),n=i.message;void 0===t&&(t=Fo.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.no(new Uo(t,n)),l.close()}else xo("Connection","WebChannel received:",n),h.so(n)}})),d(s,bo.STAT_EVENT,(e=>{e.stat===Eo.PROXY?xo("Connection","Detected buffering proxy"):e.stat===Eo.NOPROXY&&xo("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.eo()}),0),h}}function Uh(){return"undefined"!=typeof document?document:null}function Vh(e){return new Ic(e,!0)}class zh{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Yn=e,this.timerId=t,this.fo=n,this._o=r,this.wo=i,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),n=Math.max(0,Date.now()-this.po),r=Math.max(0,t-n);r>0&&xo("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,(()=>(this.po=Date.now(),e()))),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class jh{constructor(e,t,n,r,i,s,a,o){this.Yn=e,this.Ro=n,this.Po=r,this.bo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new zh(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(()=>this.Oo())))}Fo(e){this.$o(),this.stream.send(e)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(e,t){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==e?this.Do.reset():t&&t.code===Fo.RESOURCE_EXHAUSTED?(Ro(t.toString()),Ro("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):t&&t.code===Fo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Yr(t)}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Vo===t&&this.qo(e,n)}),(t=>{e((()=>{const e=new Uo(Fo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ko(e)}))}))}qo(e,t){const n=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((()=>{n((()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,(()=>(this.xo()&&(this.state=3),Promise.resolve()))),this.listener.Hr())))})),this.stream.Yr((e=>{n((()=>this.Ko(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}No(){this.state=5,this.Do.To((async()=>{this.state=0,this.start()}))}Ko(e){return xo("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget((()=>this.Vo===e?t():(xo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bh extends jh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.M=i}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.N?(Oo(void 0===t||"string"==typeof t),ll.fromBase64String(t||"")):(Oo(void 0===t||t instanceof Uint8Array),ll.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Fo.UNKNOWN:Ju(e.code);return new Uo(t,e.message||"")}(a);n=new wc(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lc(e,r.document.name),s=xc(r.document.updateTime),a=new Ol({mapValue:{fields:r.document.fields}}),o=Fl.newFoundDocument(i,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new yc(l,u,o.key,o)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Lc(e,r.document),s=r.readTime?xc(r.readTime):Zo.min(),a=Fl.newNoDocument(i,s),o=r.removedTargetIds||[];n=new yc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Lc(e,r.document),s=r.removedTargetIds||[];n=new yc([],s,i,null)}else{if(!("filter"in t))return Lo();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Qu(r),s=e.targetId;n=new vc(s,i)}}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Zo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Zo.min():t.readTime?xc(t.readTime):Zo.min()}(e);return this.listener.Qo(t,n)}jo(e){const t={};t.database=Mc(this.M),t.addTarget=function(e,t){let n;const r=t.target;return n=ql(r)?{documents:Vc(e,r)}:{query:zc(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Nc(e,t.resumeToken):t.snapshotVersion.compareTo(Zo.min())>0&&(n.readTime=Cc(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}Wo(e){const t={};t.database=Mc(this.M),t.removeTarget=e,this.Fo(t)}}class $h extends jh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.M=i,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Oo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function(e,t){return e&&e.length>0?(Oo(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?xc(e.updateTime):xc(t);return n.isEqual(Zo.min())&&(n=xc(t)),new Pu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=xc(e.commitTime);return this.listener.Yo(n,t)}return Oo(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Mc(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Bu)n={update:Uc(e,t.key,t.value)};else if(t instanceof Wu)n={delete:Pc(e,t.key)};else if(t instanceof $u)n={update:Uc(e,t.key,t.data),updateMask:Qc(t.fieldMask)};else{if(!(t instanceof Gu))return Lo();n={verify:Pc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xu)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Lo()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ac(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lo()}(e,t.precondition)),n}(this.M,e)))};this.Fo(t)}}class Hh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.M=r,this.tu=!1}eu(){if(this.tu)throw new Uo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.bo.oo(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Fo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Uo(Fo.UNKNOWN,e.toString())}))}ho(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.bo.ho(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Fo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Uo(Fo.UNKNOWN,e.toString())}))}terminate(){this.tu=!0}}class qh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve()))))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Ro(t),this.iu=!1):xo("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Kh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=i,this._u.Lr((e=>{n.enqueueAndForget((async()=>{td(this)&&(xo("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Mo(e);t.fu.add(4),await Gh(t),t.wu.set("Unknown"),t.fu.delete(4),await Wh(t)}(this))}))})),this.wu=new qh(n,r)}}async function Wh(e){if(td(e))for(const t of e.du)await t(!0)}async function Gh(e){for(const t of e.du)await t(!1)}function Qh(e,t){const n=Mo(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),ed(n)?Zh(n):vd(n).xo()&&Yh(n,t))}function Xh(e,t){const n=Mo(e),r=vd(n);n.lu.delete(t),r.xo()&&Jh(n,t),0===n.lu.size&&(r.xo()?r.Mo():td(n)&&n.wu.set("Unknown"))}function Yh(e,t){e.mu.Z(t.targetId),vd(e).jo(t)}function Jh(e,t){e.mu.Z(t),vd(e).Wo(t)}function Zh(e){e.mu=new Ec({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.lu.get(t)||null}),vd(e).start(),e.wu.ru()}function ed(e){return td(e)&&!vd(e).Co()&&e.lu.size>0}function td(e){return 0===Mo(e).fu.size}function nd(e){e.mu=void 0}async function rd(e){e.lu.forEach(((t,n)=>{Yh(e,t)}))}async function id(e,t){nd(e),ed(e)?(e.wu.au(t),Zh(e)):e.wu.set("Unknown")}async function sd(e,t,n){if(e.wu.set("Online"),t instanceof wc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.lu.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.lu.delete(r),e.mu.removeTarget(r))}(e,t)}catch(n){xo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ad(e,n)}else if(t instanceof yc?e.mu.ut(t):t instanceof vc?e.mu._t(t):e.mu.ht(t),!n.isEqual(Zo.min()))try{const t=await gh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.mu.yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.lu.get(t);if(!n)return;e.lu.set(t,n.withResumeToken(ll.EMPTY_BYTE_STRING,n.snapshotVersion)),Jh(e,t);const r=new nh(n.target,t,1,n.sequenceNumber);Yh(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){xo("RemoteStore","Failed to raise snapshot:",t),await ad(e,t)}}async function ad(e,t,n){if(!Jc(t))throw t;e.fu.add(1),await Gh(e),e.wu.set("Offline"),n||(n=()=>gh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{xo("RemoteStore","Retrying IndexedDB access"),await n(),e.fu.delete(1),await Wh(e)}))}function od(e,t){return t().catch((n=>ad(e,n,t)))}async function ld(e){const t=Mo(e),n=wd(t);let r=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;ud(t);)try{const e=await yh(t.localStore,r);if(null===e){0===t.hu.length&&n.Mo();break}r=e.batchId,cd(t,e)}catch(e){await ad(t,e)}hd(t)&&dd(t)}function ud(e){return td(e)&&e.hu.length<10}function cd(e,t){e.hu.push(t);const n=wd(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function hd(e){return td(e)&&!wd(e).Co()&&e.hu.length>0}function dd(e){wd(e).start()}async function fd(e){wd(e).Zo()}async function pd(e){const t=wd(e);for(const n of e.hu)t.Jo(n.mutations)}async function md(e,t,n){const r=e.hu.shift(),i=eh.from(r,t,n);await od(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ld(e)}async function gd(e,t){t&&wd(e).Ho&&await async function(e,t){if(function(e){switch(e){default:return Lo();case Fo.CANCELLED:case Fo.UNKNOWN:case Fo.DEADLINE_EXCEEDED:case Fo.RESOURCE_EXHAUSTED:case Fo.INTERNAL:case Fo.UNAVAILABLE:case Fo.UNAUTHENTICATED:return!1;case Fo.INVALID_ARGUMENT:case Fo.NOT_FOUND:case Fo.ALREADY_EXISTS:case Fo.PERMISSION_DENIED:case Fo.FAILED_PRECONDITION:case Fo.ABORTED:case Fo.OUT_OF_RANGE:case Fo.UNIMPLEMENTED:case Fo.DATA_LOSS:return!0}}(n=t.code)&&n!==Fo.ABORTED){const n=e.hu.shift();wd(e).ko(),await od(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ld(e)}var n}(e,t),hd(e)&&dd(e)}async function yd(e,t){const n=Mo(e);n.asyncQueue.verifyOperationInProgress(),xo("RemoteStore","RemoteStore received new credentials");const r=td(n);n.fu.add(3),await Gh(n),r&&n.wu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.fu.delete(3),await Wh(n)}function vd(e){return e.gu||(e.gu=function(e,t,n){const r=Mo(e);return r.eu(),new Bh(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:rd.bind(null,e),Yr:id.bind(null,e),Qo:sd.bind(null,e)}),e.du.push((async t=>{t?(e.gu.ko(),ed(e)?Zh(e):e.wu.set("Unknown")):(await e.gu.stop(),nd(e))}))),e.gu}function wd(e){return e.yu||(e.yu=function(e,t,n){const r=Mo(e);return r.eu(),new $h(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:fd.bind(null,e),Yr:gd.bind(null,e),Xo:pd.bind(null,e),Yo:md.bind(null,e)}),e.du.push((async t=>{t?(e.yu.ko(),await ld(e)):(await e.yu.stop(),e.hu.length>0&&(xo("RemoteStore",`Stopping write stream with ${e.hu.length} pending writes`),e.hu=[]))}))),e.yu}class bd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new bd(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uo(Fo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ed(e,t){if(Ro("AsyncQueue",`${t}: ${e}`),Jc(e))return new Uo(Fo.UNAVAILABLE,`${t}: ${e}`);throw e}class kd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||bl.comparator(t.key,n.key):(e,t)=>bl.comparator(e.key,t.key),this.keyedMap=lc(),this.sortedSet=new ec(this.comparator)}static emptySet(e){return new kd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new kd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sd{constructor(){this.pu=new ec(bl.comparator)}track(e){const t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Lo():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _d{constructor(e,t,n,r,i,s,a,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new _d(e,t,kd.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Td{constructor(){this.Tu=void 0,this.listeners=[]}}class Id{constructor(){this.queries=new Zu((e=>fu(e)),du),this.onlineState="Unknown",this.Eu=new Set}}function Cd(e,t){const n=Mo(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Ru(e)&&(r=!0);i.Tu=e}}r&&Ad(n)}function Nd(e,t,n){const r=Mo(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Ad(e){e.Eu.forEach((e=>{e.next()}))}class xd{constructor(e,t,n){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=n||{}}Ru(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _d(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.Cu&&n||e.docs.isEmpty()&&"Offline"!==t)}vu(e){if(e.docChanges.length>0)return!0;const t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Du(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Rd{constructor(e){this.key=e}}class Dd{constructor(e){this.key=e}}class Pd{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=dc(),this.mutatedKeys=dc(),this.Uu=gu(e),this.qu=new kd(this.Uu)}get Ku(){return this.$u}Gu(e,t){const n=t?t.Qu:new Sd,r=t?t.qu:this.qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o=lu(this.query)&&r.size===this.query.limit?r.last():null,l=uu(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=mu(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ju(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Uu(c,o)>0||l&&this.Uu(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),lu(this.query)||uu(this.query))for(;s.size>this.query.limit;){const e=lu(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{qu:s,Qu:n,ni:a,mutatedKeys:i}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const i=e.Qu.Iu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lo()}};return n(e)-n(t)}(e.type,t.type)||this.Uu(e.doc,t.doc))),this.Wu(n);const s=t?this.zu():[],a=0===this.Lu.size&&this.current?1:0,o=a!==this.Bu;return this.Bu=a,0!==i.length||o?{snapshot:new _d(this.query,e.qu,r,i,e.mutatedKeys,0===a,o,!1),Hu:s}:{Hu:s}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Sd,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach((e=>this.$u=this.$u.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.$u=this.$u.delete(e))),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=dc(),this.qu.forEach((e=>{this.Ju(e.key)&&(this.Lu=this.Lu.add(e.key))}));const t=[];return e.forEach((e=>{this.Lu.has(e)||t.push(new Dd(e))})),this.Lu.forEach((n=>{e.has(n)||t.push(new Rd(n))})),t}Yu(e){this.$u=e.li,this.Lu=dc();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return _d.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Ld{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Od{constructor(e){this.key=e,this.Zu=!1}}class Md{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ta={},this.ea=new Zu((e=>fu(e)),du),this.na=new Map,this.sa=new Set,this.ia=new ec(bl.comparator),this.ra=new Map,this.oa=new kh,this.ua={},this.aa=new Map,this.ca=uh.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}async function Fd(e,t){const n=function(e){const t=Mo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jd.bind(null,t),t.ta.Qo=Cd.bind(null,t.eventManager),t.ta.fa=Nd.bind(null,t.eventManager),t}(e);let r,i;const s=n.ea.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Xu();else{const e=await function(e,t){const n=Mo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.fs.getTargetData(e,t).next((i=>i?(r=i,Yc.resolve(r)):n.fs.allocateTargetId(e).next((i=>(r=new nh(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}(n.localStore,hu(t));n.isPrimaryClient&&Qh(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.la=(t,n,r)=>async function(e,t,n,r){let i=t.view.Gu(n);i.ni&&(i=await wh(e.localStore,t.query,!1).then((({documents:e})=>t.view.Gu(e,i))));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Gd(e,t.targetId,a.Hu),a.snapshot}(e,t,n,r);const i=await wh(e.localStore,t,!0),s=new Pd(t,i.li),a=s.Gu(i.documents),o=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(a,e.isPrimaryClient,o);Gd(e,n,l.Hu);const u=new Ld(t,n,s);return e.ea.set(t,u),e.na.has(n)?e.na.get(n).push(t):e.na.set(n,[t]),l.snapshot}(n,t,r,"current"===s)}return i}async function Ud(e,t){const n=Mo(e),r=n.ea.get(t),i=n.na.get(r.targetId);if(i.length>1)return n.na.set(r.targetId,i.filter((e=>!du(e,t)))),void n.ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vh(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Xh(n.remoteStore,r.targetId),Kd(n,r.targetId)})).catch(ch)):(Kd(n,r.targetId),await vh(n.localStore,r.targetId,!0))}async function Vd(e,t){const n=Mo(e);try{const e=await function(e,t){const n=Mo(e),r=t.snapshotVersion;let i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.fs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.fs.addMatchingKeys(e,s.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?u=u.withResumeToken(ll.EMPTY_BYTE_STRING,Zo.min()).withLastLimboFreeSnapshotVersion(Zo.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&a.push(n.fs.updateTargetData(e,u))}));let o=ac();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(function(e,t,n){let r=dc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ac();return n.forEach(((n,i)=>{const s=e.get(n);i.isNoDocument()&&i.version.isEqual(Zo.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):xo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),r}))}(e,s,t.documentUpdates).next((e=>{o=e}))),!r.isEqual(Zo.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next((t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Yc.waitFor(a).next((()=>s.apply(e))).next((()=>n.ci.Gs(e,o))).next((()=>o))})).then((e=>(n.ii=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ra.get(t);r&&(Oo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Zu=!0:e.modifiedDocuments.size>0?Oo(r.Zu):e.removedDocuments.size>0&&(Oo(r.Zu),r.Zu=!1))})),await Yd(n,e,t)}catch(e){await ch(e)}}function zd(e,t,n){const r=Mo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ea.forEach(((n,r)=>{const i=r.view.Au(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Mo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Au(t)&&(r=!0)})),r&&Ad(n)}(r.eventManager,t),e.length&&r.ta.Qo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jd(e,t,n){const r=Mo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ra.get(t),s=i&&i.key;if(s){let e=new ec(bl.comparator);e=e.insert(s,Fl.newNoDocument(s,Zo.min()));const n=dc().add(s),i=new mc(Zo.min(),new Map,new rc(Xo),e,n);await Vd(r,i),r.ia=r.ia.remove(s),r.ra.delete(t),Xd(r)}else await vh(r.localStore,t,!1).then((()=>Kd(r,t,n))).catch(ch)}async function Bd(e,t){const n=Mo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Mo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Yc.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Oo(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.Bs.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.ci.Ks(e,r)))}))}(n.localStore,t);qd(n,r,null),Hd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,e)}catch(e){await ch(e)}}async function $d(e,t,n){const r=Mo(e);try{const e=await function(e,t){const n=Mo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.Bs.lookupMutationBatch(e,t).next((t=>(Oo(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.ci.Ks(e,r)))}))}(r.localStore,t);qd(r,t,n),Hd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yd(r,e)}catch(n){await ch(n)}}function Hd(e,t){(e.aa.get(t)||[]).forEach((e=>{e.resolve()})),e.aa.delete(t)}function qd(e,t,n){const r=Mo(e);let i=r.ua[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function Kd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.na.get(t))e.ea.delete(r),n&&e.ta.fa(r,n);e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((t=>{e.oa.containsKey(t)||Wd(e,t)}))}function Wd(e,t){e.sa.delete(t.path.canonicalString());const n=e.ia.get(t);null!==n&&(Xh(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),Xd(e))}function Gd(e,t,n){for(const r of n)r instanceof Rd?(e.oa.addReference(r.key,t),Qd(e,r)):r instanceof Dd?(xo("SyncEngine","Document no longer in limbo: "+r.key),e.oa.removeReference(r.key,t),e.oa.containsKey(r.key)||Wd(e,r.key)):Lo()}function Qd(e,t){const n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(xo("SyncEngine","New document in limbo: "+n),e.sa.add(r),Xd(e))}function Xd(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){const t=e.sa.values().next().value;e.sa.delete(t);const n=new bl(il.fromString(t)),r=e.ca.next();e.ra.set(r,new Od(n)),e.ia=e.ia.insert(n,r),Qh(e.remoteStore,new nh(hu(ou(n.path)),r,2,Wo.A))}}async function Yd(e,t,n){const r=Mo(e),i=[],s=[],a=[];r.ea.isEmpty()||(r.ea.forEach(((e,o)=>{a.push(r.la(o,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=dh.Ys(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.ta.Qo(i),await async function(e,t){const n=Mo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Yc.forEach(t,(t=>Yc.forEach(t.Hs,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Yc.forEach(t.Js,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Jc(e))throw e;xo("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ii.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ii=n.ii.insert(t,i)}}}(r.localStore,s))}async function Jd(e,t){const n=Mo(e);if(!n.currentUser.isEqual(t)){xo("SyncEngine","User change. New user:",t.toKey());const e=await mh(n.localStore,t);n.currentUser=t,function(e,t){e.aa.forEach((e=>{e.forEach((e=>{e.reject(new Uo(Fo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Yd(n,e.hi)}}function Zd(e,t){const n=Mo(e),r=n.ra.get(t);if(r&&r.Zu)return dc().add(r.key);{let e=dc();const r=n.na.get(t);if(!r)return e;for(const t of r){const r=n.ea.get(t);e=e.unionWith(r.view.Ku)}return e}}function ef(e){const t=Mo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$d.bind(null,t),t}class tf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Vh(e.databaseInfo.databaseId),this.sharedClientState=this._a(e),this.persistence=this.wa(e),await this.persistence.start(),this.gcScheduler=this.ma(e),this.localStore=this.ga(e)}ma(e){return null}ga(e){return function(e,t,n,r){return new ph(e,t,n,r)}(this.persistence,new fh,e.initialUser,this.M)}wa(e){return new Nh(xh.zi,this.M)}_a(e){return new Dh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jd.bind(null,this.syncEngine),await async function(e,t){const n=Mo(e);t?(n.fu.delete(2),await Wh(n)):t||(n.fu.add(2),await Gh(n),n.wu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Id}createDatastore(e){const t=Vh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Fh(r));var r;return function(e,t,n,r){return new Hh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>zd(this.syncEngine,e,0),s=Lh.vt()?new Lh:new Ph,new Kh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Md(e,t,n,r,i,s);return a&&(o.ha=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Mo(e);xo("RemoteStore","RemoteStore shutting down."),t.fu.add(5),await Gh(t),t._u.shutdown(),t.wu.set("Unknown")}(this.remoteStore)}}class rf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class sf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Io.UNAUTHENTICATED,this.clientId=Qo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{xo("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(xo("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Uo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ed(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function af(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(xo("FirestoreClient","Using default OfflineComponentProvider"),await async function(e,t){e.asyncQueue.verifyOperationInProgress(),xo("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await mh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}(e,new tf)),e.offlineComponents}(e);xo("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>yd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yd(t.remoteStore,n))),e.onlineComponents=t}async function of(e){return e.onlineComponents||(xo("FirestoreClient","Using default OnlineComponentProvider"),await af(e,new nf)),e.onlineComponents}async function lf(e){const t=await of(e),n=t.eventManager;return n.onListen=Fd.bind(null,t.syncEngine),n.onUnlisten=Ud.bind(null,t.syncEngine),n}function uf(e,t,n={}){const r=new Vo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new rf({next:s=>{t.enqueueAndForget((()=>async function(e,t){const n=Mo(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Uo(Fo.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Uo(Fo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new xd(ou(n.path),s,{includeMetadataChanges:!0,Cu:!0});return async function(e,t){const n=Mo(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Td),i)try{s.Tu=await n.onListen(r)}catch(e){const n=Ed(e,`Initialization of query '${pu(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Au(n.onlineState),s.Tu&&t.Ru(s.Tu)&&Ad(n)}(e,a)}(await lf(e),e.asyncQueue,t,n,r))),r.promise}const cf=new Map;function hf(e,t,n){if(!n)throw new Uo(Fo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function df(e){if(!bl.isDocumentKey(e))throw new Uo(Fo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ff(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Lo()}function pf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uo(Fo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ff(e);throw new Uo(Fo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class mf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Uo(Fo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Uo(Fo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Uo(Fo.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mf({}),this._settingsFrozen=!1,e instanceof yl?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uo(Fo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(e.options.projectId)}(e))}get app(){if(!this._app)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jo;switch(e.type){case"gapi":const t=e.client;return Oo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ho(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Uo(Fo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cf.get(e);t&&(xo("ComponentProvider","Removing Datastore"),cf.delete(e),t.terminate())}(this),Promise.resolve()}}class yf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yf(this.firestore,e,this._key)}}class vf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vf(this.firestore,e,this._query)}}class wf extends vf{constructor(e,t,n){super(e,t,ou(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yf(this.firestore,null,new bl(e))}withConverter(e){return new wf(this.firestore,e,this._path)}}function bf(e,t,...n){if(e=ne(e),1===arguments.length&&(t=Qo.R()),hf("doc","path",t),e instanceof gf){const r=il.fromString(t,...n);return df(r),new yf(e,null,new bl(r))}{if(!(e instanceof yf||e instanceof wf))throw new Uo(Fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(il.fromString(t,...n));return df(r),new yf(e.firestore,e instanceof wf?e.converter:null,new bl(r))}}class Ef{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new zh(this,"async_queue_retry"),this.qa=()=>{const e=Uh();e&&xo("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const e=Uh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Uh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise((()=>{}));const t=new Vo;return this.Ga((()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ma.push(e),this.Qa())))}async Qa(){if(0!==this.Ma.length){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(e){if(!Jc(e))throw e;xo("AsyncQueue","Operation failed with retryable error: "+e)}this.Ma.length>0&&this.Do.To((()=>this.Qa()))}}Ga(e){const t=this.ka.then((()=>(this.Ba=!0,e().catch((e=>{this.$a=e,this.Ba=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ro("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ba=!1,e))))));return this.ka=t,t}enqueueAfterDelay(e,t,n){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=bd.createAndSchedule(this,e,t,n,(e=>this.ja(e)));return this.Fa.push(r),r}Ka(){this.$a&&Lo()}verifyOperationInProgress(){}async Wa(){let e;do{e=this.ka,await e}while(e!==this.ka)}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then((()=>{this.Fa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()}))}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}class kf extends gf{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Ef,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||_f(this),this._firestoreClient.terminate()}}function Sf(e){return e._firestoreClient||_f(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _f(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new gl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sf(e._authCredentials,e._appCheckCredentials,e._queue,r)}class Tf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new al(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._byteString=e}static fromBase64String(e){try{return new If(ll.fromBase64String(e))}catch(e){throw new Uo(Fo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new If(ll.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cf{constructor(e){this._methodName=e}}class Nf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Uo(Fo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Uo(Fo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xo(this._lat,e._lat)||Xo(this._long,e._long)}}const Af=/^__.*__$/;class xf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $u(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class Rf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $u(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Df(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lo()}}class Pf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ya(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return qf(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Df(this.Xa)&&Af.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Lf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||Vh(e)}ac(e,t,n,r=!1){return new Pf({Xa:e,methodName:t,uc:n,path:al.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Of(e){const t=e._freezeSettings(),n=Vh(e._databaseId);return new Lf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Mf(e,t,n,r,i,s={}){const a=e.ac(s.merge||s.mergeFields?2:0,t,n,i);jf("Data must be an object, but it was:",a,r);const o=Vf(r,a);let l,u;if(s.merge)l=new ol(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Bf(t,r,n);if(!a.contains(i))throw new Uo(Fo.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Kf(e,i)||e.push(i)}l=new ol(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new xf(new Ol(o),l,u)}class Ff extends Cf{_toFieldTransform(e){if(2!==e.Xa)throw 1===e.Xa?e.rc(`${this._methodName}() can only appear at the top level of your update data`):e.rc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}function Uf(e,t){if(zf(e=ne(e)))return jf("Unsupported field value:",t,e),Vf(e,t);if(e instanceof Cf)return function(e,t){if(!Df(t.Xa))throw t.rc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.rc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Uf(i,t.ic(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ne(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bu(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Jo.fromDate(e);return{timestampValue:Cc(t.M,n)}}if(e instanceof Jo){const n=new Jo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cc(t.M,n)}}if(e instanceof Nf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof If)return{bytesValue:Nc(t.M,e._byteString)};if(e instanceof yf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.rc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Rc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc(`Unsupported field value: ${ff(e)}`)}(e,t)}function Vf(e,t){const n={};return nl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tl(e,((e,r)=>{const i=Uf(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jo||e instanceof Nf||e instanceof If||e instanceof yf||e instanceof Cf)}function jf(e,t,n){if(!zf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ff(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function Bf(e,t,n){if((t=ne(t))instanceof Tf)return t._internalPath;if("string"==typeof t)return Hf(e,t);throw qf("Field path arguments must be of type string or ",e,!1,void 0,n)}const $f=new RegExp("[~\\*/\\[\\]]");function Hf(e,t,n){if(t.search($f)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tf(...t.split("."))._internalPath}catch(r){throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qf(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Uo(Fo.INVALID_ARGUMENT,o+e+l)}function Kf(e,t){return e.some((e=>e.isEqual(t)))}class Wf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gf extends Wf{data(){return super.data()}}function Qf(e,t){return"string"==typeof t?Hf(e,t):t instanceof Tf?t._internalPath:t._delegate._internalPath}class Xf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yf extends Wf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Qf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Jf extends Yf{data(e={}){return super.data(e)}}function Zf(e){e=pf(e,yf);const t=pf(e.firestore,kf);return uf(Sf(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),i=new ep(e);return new Yf(e,i,t._key,r,new Xf(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class ep extends class{convertValue(e,t="none"){switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lo()}}convertObject(e,t){const n={};return tl(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Nf(hl(e.latitude),hl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=pl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=cl(e);return new Jo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=il.fromString(e);Oo(Xc(n));const r=new yl(n.get(1),n.get(3)),i=new bl(n.popFirst(5));return r.isEqual(t)||Ro(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new If(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yf(this.firestore,null,t)}}function tp(e,t,n){e=pf(e,yf);const r=pf(e.firestore,kf),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return rp(r,[Mf(Of(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lu.none())])}function np(e,t,n,...r){e=pf(e,yf);const i=pf(e.firestore,kf),s=Of(i);let a;return a="string"==typeof(t=ne(t))||t instanceof Tf?function(e,t,n,r,i,s){const a=e.ac(1,t,n),o=[Bf(t,r,n)],l=[i];if(s.length%2!=0)throw new Uo(Fo.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(Bf(t,s[e])),l.push(s[e+1]);const u=[],c=Ol.empty();for(let e=o.length-1;e>=0;--e)if(!Kf(u,o[e])){const t=o[e];let n=l[e];n=ne(n);const r=a.sc(t);if(n instanceof Ff)u.push(t);else{const e=Uf(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new ol(u);return new Rf(c,h,a.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.ac(1,t,n);jf("Data must be an object, but it was:",i,r);const s=[],a=Ol.empty();tl(r,((e,r)=>{const o=Hf(t,e,n);r=ne(r);const l=i.sc(o);if(r instanceof Ff)s.push(o);else{const e=Uf(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new ol(s);return new Rf(a,o,i.fieldTransforms)}(s,"updateDoc",e._key,t),rp(i,[a.toMutation(e._key,Lu.exists(!0))])}function rp(e,t){return function(e,t){const n=new Vo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ef(e);try{const e=await function(e,t){const n=Mo(e),r=Jo.now(),i=t.reduce(((e,t)=>e.add(t.key)),dc());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.ci.Ks(e,i).next((i=>{s=i;const a=[];for(const e of t){const t=Vu(e,s.get(e.key));null!=t&&a.push(new $u(e.key,t,Ml(t.value.mapValue),Lu.exists(!0)))}return n.Bs.addMutationBatch(e,r,a,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.ua[e.currentUser.toKey()];r||(r=new ec(Xo)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(r,e.batchId,n),await Yd(r,e.changes),await ld(r.remoteStore)}catch(e){const t=Ed(e,"Failed to persist write");n.reject(t)}}(await function(e){return of(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Sf(e),t)}!function(e,t=!0){Co="9.6.11",Ne(new le("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new kf(r,new Bo(e.getProvider("auth-internal")),new Ko(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),Le(To,"3.4.8",e),Le(To,"3.4.8","esm2017")}();var ip=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw xe.create("bad-app-name",{appName:String(r)});const i=Te.get(r);if(i){if(Q(e,i.options)&&Q(n,i.config))return i;throw xe.create("duplicate-app",{appName:r})}const s=new he(r);for(const e of Ie.values())s.addComponent(e);const a=new Re(e,n,s);return Te.set(r,a),a}({apiKey:"AIzaSyDFxKBVcj0DxGcf1y7TvDhh70KAPTNOyNM",authDomain:"what-to-do-tw.firebaseapp.com",projectId:"what-to-do-tw",storageBucket:"what-to-do-tw.appspot.com",messagingSenderId:"1078259918689",appId:"1:1078259918689:web:22b91be553ed6ec9c54720"}),sp=function(e=Pe()){const t=Ae(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=Ae(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Q(n.getOptions(),null!=t?t:{}))return e;Qe(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ur,persistence:[Rn,pn,gn]})}(ip),ap=function(e=Pe()){return Ae(e,"firestore").getImmediate()}(ip),op=new rn;function lp(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,i)}function up(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){lp(s,r,i,a,o,"next",e)}function o(e){lp(s,r,i,a,o,"throw",e)}a(void 0)}))}}var cp=n(757),hp=n.n(cp),dp=function(e){(async function(e,t,n){const r=Ht(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qe(e,"argument-error"),Ye(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,en);const i=Ln(r,void 0);return new jn(r,"signInViaPopup",t,i).executeNotNull()})(sp,op).then((function(t){e(t.user.uid)})).catch((function(e){console.log(e)}))},fp=function(){var e=up(hp().mark((function e(t,n,r,i){var s;return hp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zf(bf(ap,"to-do",t));case 3:if(!(s=e.sent).exists()){e.next=9;break}i(!1),r(s.data().toDoList),e.next=19;break;case 9:return i(!1),e.prev=10,e.next=13,tp(bf(ap,"to-do",t),{toDoList:n,lastUpdateTime:Jo.now()});case 13:r([]),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.error("Error adding document: ",e.t0);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(0),console.error("Error adding document: ",e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,21],[10,16]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),pp=function(){var e=up(hp().mark((function e(t,n){return hp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,np(bf(ap,"to-do",t),{toDoList:n,lastUpdateTime:Jo.now()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}();const mp=function(e){var n=e.userId,r=e.setUserId,i=C();return(0,t.useEffect)((function(){n&&i("/list")})),t.createElement("div",{className:"home-page-container"},t.createElement("div",{className:"slogan"},t.createElement("div",{className:"slogan-decoration"},"--"),t.createElement("div",null,"A Simple To-Do list help you arrange your life"),t.createElement("div",{className:"slogan-decoration"},"--")),t.createElement("div",{className:"start-btn",onClick:function(){return dp(r)}},"Sign In with Google"))};function gp(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const yp=function(e){var n=e.handelInputValue,r=(0,t.useRef)();return t.createElement("div",{className:"create-item-container"},t.createElement("input",{type:"text",placeholder:"Create a new to-do",ref:r,className:"input-field"}),t.createElement("input",{type:"button",value:"Create",onClick:function(){""!=r.current.value&&(n(r.current.value),r.current.value="")},className:"create-btn"}))},vp=function(e){var n=e.content,r=e.deleteItem,i=e.dataState;return t.createElement("div",{className:"item-list"},i?t.createElement("div",{className:"loading"},"Loading..."):n.map((function(e,n){return t.createElement("div",{key:n,className:"item-container"},t.createElement("div",{className:"item-content"},e),t.createElement("button",{onClick:function(){return r(n)},className:"delete-btn"},"Delete"))})))},wp=function(e){var n=e.userId,r=e.setUserNull,i=M((0,t.useState)([]),2),s=i[0],a=i[1],o=M((0,t.useState)(""),2),l=o[0],u=o[1],c=M((0,t.useState)(!0),2),h=c[0],d=c[1],f=C();(0,t.useEffect)((function(){n?(p(),fp(n,s,a,d)):f("/")}),[n]);var p=function(){var e=new Date,t=e.getDate(),n=e.getDay(),r=e.getMonth(),i=e.getFullYear(),s=new Date(Date.UTC(i,r,t,n,0,0));u(s.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))};return t.createElement("div",{className:"list-page"},t.createElement("h2",null,"--- ",l," ---"),t.createElement(yp,{handelInputValue:function(e){var t=gp(s);t=[].concat(gp(t),[e]),pp(n,t),a(t)}}),t.createElement(vp,{content:s,deleteItem:function(e){var t=gp(s);t.splice(e,1),pp(n,t),a(t)},dataState:h}),t.createElement("button",{className:"sign-out-btn",onClick:function(){(function(e){return ne(e).signOut()})(sp).then((function(){r(null)})).catch((function(e){return console.log(e)}))}},"Sign Out"))},bp=function(){var e=M((0,t.useState)(null),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){!function(e,t,n,i){ne(e).onAuthStateChanged((function(e){e&&r(e.uid)}),void 0,void 0)}(sp)}),[n]),t.createElement("div",{className:"container"},t.createElement("div",{className:"header"},"What To Do"),t.createElement(R,null,t.createElement(A,{path:"/",element:n?t.createElement(N,{to:"/list"}):t.createElement(mp,{userId:n,setUserId:r})}),t.createElement(A,{path:"/list",element:n?t.createElement(wp,{userId:n,setUserNull:function(){r(null)}}):t.createElement(N,{to:"/"})})))};var Ep=document.getElementById("root");(0,r.s)(Ep).render(t.createElement(P,null,t.createElement(bp,null)))})()})();